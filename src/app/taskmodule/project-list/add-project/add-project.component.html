<!-- top header container -->
<section class="header-container">
    <span class="header-text" mat-dialog-title>
        {{data.title}}
    </span>
    <button mat-icon-button (click)="onCancel()" class="close-btn">
        <mat-icon>close</mat-icon>
    </button>
</section>
<!-- mat-card starts -->
<mat-card class="card">
    <!-- form- starts -->
    <form [formGroup]="projectForm" class="project-form">
        <section class="form-container">
            <!-- Project Name -->
            <mat-form-field appearance="outline" class="project-name-field">
                <mat-label>Project Name</mat-label>
                <input matInput formControlName="projectName" maxlength="64" />
                <mat-error *ngIf="projectForm.get('projectName')!.hasError('required')">Project Name
                    is Required
                </mat-error>
            </mat-form-field>

            <!-- Status -->
            <mat-form-field appearance="outline" *ngIf="data.actionName === 'edit-project'">
                <mat-label>Status</mat-label>
                <mat-select formControlName="status">
                    <mat-option value="To Do">To Do</mat-option>
                    <mat-option value="In Progress">In Progress</mat-option>
                    <mat-option value="On Hold">On Hold</mat-option>
                    <mat-option value="In Review">In Review</mat-option>
                    <mat-option value="Completed">Completed</mat-option>
                </mat-select>
                <mat-error *ngIf="projectForm.get('status')!.hasError('required')">Status
                    Required</mat-error>
            </mat-form-field>

            <!-- Description -->
            <mat-form-field appearance="outline" class="description-field">
                <mat-label>Description</mat-label>
                <textarea maxlength="1024" rows="5" matInput formControlName="description"></textarea>
                <mat-error *ngIf="projectForm.get('description')!.hasError('required')">Description
                    Required</mat-error>
            </mat-form-field>

            <!--Select Department -->
            <mat-form-field appearance="outline">
                <mat-label>Select Department</mat-label>
                <input matInput formControlName="department" [matAutocomplete]="departmentAuto">
                <mat-autocomplete #departmentAuto="matAutocomplete">
                    <mat-option *ngFor="let option of filteredDepartmentOptions | async" [value]="option">
                        {{ option }}
                    </mat-option>
                </mat-autocomplete>
                <mat-error *ngIf="projectForm.get('department').hasError('required')">Choose
                    Deparment</mat-error>
            </mat-form-field>

            <!-- Assigned Users -->
            <div *ngIf="projectForm.get('assignedto')" style="width: calc(100% - 24px);">
                <ng-multiselect-dropdown [placeholder]="'Assigned To *'" [settings]="dropdownSettings"
                    [data]="employeeData" [formControl]="assignedToControl">
                </ng-multiselect-dropdown>
                <mat-error
                    *ngIf="projectForm.get('assignedto')!.hasError('required') && projectForm.get('assignedto')!.touched">
                    Assigned To is required
                </mat-error>
            </div>
        </section>
    </form>
    <!-- form-ends -->
</mat-card>
<!-- mat-card-ends -->

 <!-- form-bottom action buttons -->
 <div class="form-action-buttons">
    <button mat-raised-button class="btn-cancel" color="white" (click)="onCancel()">Cancel</button>
    <button mat-raised-button color="primary" [disabled]="isFormSubmitted" (click)="onSubmit()">Submit</button>
</div>