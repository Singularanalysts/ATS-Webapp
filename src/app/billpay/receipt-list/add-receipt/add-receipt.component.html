<div class="header-container mat-elevation-z1">
    <span class="header-text" mat-dialog-title>
        {{data.title}}
    </span>
    <button mat-icon-button (click)="onCancel()">
        <mat-icon>close</mat-icon>
    </button>
</div>
<mat-card class="center-card">
    <form [formGroup]="receiptForm" (ngSubmit)="onSubmit()" class="receipt-form">
        <div class="form">
            <div class="form-column-left">
                <!-- Amount Received -->
                <mat-form-field>
                    <mat-label>Amount Received</mat-label>
                    <input matInput formControlName="amountReceived">
                    <mat-error *ngIf="receiptForm.get('amountReceived')!.hasError('required')"> Amount Received is required</mat-error>
                </mat-form-field>

                <!-- Payment Date -->
                <mat-form-field appearance="fill">
                    <mat-label>Payment Date</mat-label>
                    <input matInput [matDatepicker]="picker1" formControlName="paymentDate"/>
                    <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                    <mat-error *ngIf="receiptForm.get('paymentDate')!.hasError('required')"> Payment Date is required</mat-error>
                </mat-form-field>

                <!-- Payment Mode -->
                <mat-form-field appearance="fill">
                    <mat-label>Payment Mode</mat-label>
                    <mat-select formControlName="paymentMode">
                        <mat-option value="Cheque">Cheque</mat-option>
                        <mat-option value="Online Transfer">Online Transfer</mat-option>
                    </mat-select>
                    <mat-error *ngIf="receiptForm.get('paymentMode')!.hasError('required')"> Payment Mode is required</mat-error>
                </mat-form-field>

            </div>
            <div class="form-column-right">
                <!-- Cheque Number -->
                <mat-form-field appearance="fill" *ngIf="receiptForm.get('paymentMode')?.value === 'Cheque'">
                    <mat-label>Cheque Number</mat-label>
                    <input matInput formControlName="chequeNumber">
                </mat-form-field>
            
                <!-- Cheque Date -->
                <mat-form-field appearance="fill" *ngIf="receiptForm.get('paymentMode')?.value === 'Cheque'">
                    <mat-label>Cheque Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="chequeDate">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>

                <!-- Remarks -->
                <mat-form-field appearance="fill">
                    <mat-label>Remarks</mat-label>
                    <input matInput formControlName="remarks">
                    <mat-error *ngIf="receiptForm.get('remarks')!.hasError('required')"> Remarks is required</mat-error>
                </mat-form-field>
            
            </div>
        </div>
    </form>
    <div class="form-button-right">
        <button mat-raised-button color="white" (click)="onCancel()">Cancel</button>
        <button mat-raised-button color="primary" (click)="onSubmit()">Submit</button>
    </div>
</mat-card>

<div id="table-container" class="table-wrapper">
    <section class="mat-elevation-z8 purchase-order-table-style">
        <table mat-table [dataSource]="dataSource" oncopy="return false">
            <!--- Note that these columns can be defined in any order.
                              The actual rendered columns are set as a property on the row definition" -->

            <!-- <ng-container matColumnDef="SerialNum">
                <th mat-header-cell *matHeaderCellDef> S. No </th>
                <td mat-cell *matCellDef="let element"> {{element?.serialNum}} </td>
            </ng-container> -->

            <!-- Bill To Vendor Column -->
            <!-- <ng-container matColumnDef="invoicenumber">
                <th mat-header-cell *matHeaderCellDef>Invoice Number</th>
                <td mat-cell *matCellDef="let element"> {{element.invoiceNumber}} </td>
            </ng-container> -->

            <!-- Invoice Date Column -->
            <!-- <ng-container matColumnDef="InvoiceDate">
                <th mat-header-cell *matHeaderCellDef>Invoice Date</th>
                <td mat-cell *matCellDef="let element"> {{element.invoiceDate}} </td>
            </ng-container> -->

            <!-- Due Date Column -->
            <!-- <ng-container matColumnDef="DueDate">
                <th mat-header-cell *matHeaderCellDef>Due Date</th>
                <td mat-cell *matCellDef="let element"> {{element.dueDate}} </td>
            </ng-container> -->

            <!-- Consultant Column -->
            <!-- <ng-container matColumnDef="Consultant">
                <th mat-header-cell *matHeaderCellDef>Consultant</th>
                <td mat-cell *matCellDef="let element"> {{element.consultantName}} </td>
            </ng-container> -->

            <!-- Net Term Column -->
            <!-- <ng-container matColumnDef="NetTerm">
                <th mat-header-cell *matHeaderCellDef>NetTerm</th>
                <td mat-cell *matCellDef="let element"> {{element.netTerm}} </td>
            </ng-container> -->

            <!-- Number Of Hours Column -->
            <!-- <ng-container matColumnDef="NoOfHours">
                <th mat-header-cell *matHeaderCellDef>No. Of Hours</th>
                <td mat-cell *matCellDef="let element" class="align-right"> {{element.numberOfHours}} </td>
            </ng-container> -->

            <!-- Rate Column -->
            <!-- <ng-container matColumnDef="Rate">
                <th mat-header-cell *matHeaderCellDef>Rate</th>
                <td mat-cell *matCellDef="let element" class="align-right"> {{element.hourlyRate}} </td>
            </ng-container> -->

            <!-- Invoice Value Column -->
            <!-- <ng-container matColumnDef="InvoiceValue">
                <th mat-header-cell *matHeaderCellDef>Invoice Value</th>
                <td mat-cell *matCellDef="let element" class="align-right"> {{element.invoiceValue}} </td>
            </ng-container> -->

            <!-- Status Column -->
            <!-- <ng-container matColumnDef="Status">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element"> 
                    <button mat-stroked-button color="primary">{{element.status}}</button>
                </td>
            </ng-container> -->

            <!-- Invoice Column -->

            <!-- Action Column -->
            <ng-container matColumnDef="Action" class="actions">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element" class="action-buttons">
                    <button mat-icon-button (click)="editReceipt(element)" class="action-button-ed">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button mat-icon-button (click)="deleteReceipt(element)" class="action-button-ed">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>
            <!-- table ROW -->
            <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
        </table>
    </section>
</div>
