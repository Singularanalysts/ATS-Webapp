<div class="purchase-order-container">
    <ul class="breadcrumb">
        <li><a (click)="navigateToDashboard()">Home</a></li>
        <li class="last">Purchase Orders</li>
    </ul>
    <div class="header-container mat-elevation-z1">
        <span class="header-text">
            Purchase Orders
        </span>

        <div class="purchase-order-actions">
            <button matTooltip="Add" matTooltipPosition="left" mat-icon-button class="add-purchase-order"
                (click)="addPurchaseOrder()">
                <mat-icon class="item-icon">add_circle</mat-icon>
            </button>

            <div class="search-submission">
                <input matInput type="text" class="search" placeholder="search purchase order" (keyup)="applyFilter($event)">
            </div>
        </div>
    </div>
    <div id="table-container" class="table-wrapper">
        <section class="mat-elevation-z8 purchase-order-table-style">
            <table mat-table [dataSource]="dataSource" oncopy="return false" matSort (matSortChange)="onSort($event)">
                <!--- Note that these columns can be defined in any order.
                                  The actual rendered columns are set as a property on the row definition" -->

                <!-- Serial Number Column -->
                <ng-container matColumnDef="SerialNum">
                    <th mat-header-cell *matHeaderCellDef> # </th>
                    <td mat-cell *matCellDef="let element"> {{element?.serialNum}} </td>
                </ng-container>

                <!-- Vendor Column -->
                <ng-container matColumnDef="POTYPE">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by potype">PO Type
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.potype}} </td>
                </ng-container>

                <!-- Consultant Column -->
                <ng-container matColumnDef="Consultant">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Consultant">
                        Consultant</th>
                    <td mat-cell *matCellDef="let element"> {{element.consultantname}} </td>
                </ng-container>

            
                <!-- Vendor Column -->
                <ng-container matColumnDef="Vendor">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by vendorname">
                        Vendor</th>
                    <td mat-cell *matCellDef="let element" (click)="goToReqInfo(element)"
                    style="width: 10%; text-wrap: nowrap">   <span class="po-info"> {{element.vendorname}}</span>
                    </td>
                </ng-container>

                <!-- Client Column -->
                <ng-container matColumnDef="Client">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by endclient">
                        Client</th>
                    <td mat-cell *matCellDef="let element"> {{element.endclient}} </td>
                </ng-container>

                <!-- Client Column -->
                <ng-container matColumnDef="Implpartner">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by implpartner">
                        Impl Partner</th>
                    <td mat-cell *matCellDef="let element"> {{element.implpartner}} </td>
                </ng-container>

                <!-- Project Start Date Column -->
                <ng-container matColumnDef="ProjectStartDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by projstartdate">
                        Project
                        Start Date</th>
                    <td mat-cell *matCellDef="let element"> {{element.projstartdate}} </td>
                </ng-container>

                <!-- Project End Date Column -->
                <ng-container matColumnDef="ProjectEndDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by projenddate">
                        Project End
                        Date</th>
                    <td mat-cell *matCellDef="let element"> {{element.projenddate}} </td>
                </ng-container>

                <!-- Duration Column -->
                <ng-container matColumnDef="Duration">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by duration">
                        Duration</th>
                    <td mat-cell *matCellDef="let element"> {{element.duration}} </td>
                </ng-container>

                <!-- Billing Cycle Column -->
                <ng-container matColumnDef="BillingCycle">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by billingcycle">
                        Billing Cycle
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.billingcycle}} </td>
                </ng-container>

                <!-- Net Term Column -->
                <ng-container matColumnDef="NetTerm">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by netterm">Net
                        Term</th>
                    <td mat-cell *matCellDef="let element" class="text-right"> {{element.netterm}} </td>
                </ng-container>

                <!-- Pay Rate Column -->
                <ng-container matColumnDef="PayRate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by hourlyrate">Pay
                        From Vendor</th>
                    <td mat-cell *matCellDef="let element" class="text-right"> {{element.hourlyrate}} </td>
                </ng-container>


                <!-- Consultant Column -->
                <ng-container matColumnDef="PayToconsultant">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                        sortActionDescription="Sort by payratetoconsultant">PayToconsultant</th>
                    <td mat-cell *matCellDef="let element" class="text-right"> {{element.payratetoconsultant}} </td>
                </ng-container>

               
                <!-- Action Column -->
                <ng-container matColumnDef="Action" class="actions">
                    <th mat-header-cell *matHeaderCellDef> Action </th>
                    <td mat-cell *matCellDef="let element" class="action-buttons">
                        <button mat-icon-button (click)="editPurchaseOrder(element)" class="action-button-ed">
                            <mat-icon>edit</mat-icon>
                        </button>

                        <button mat-icon-button (click)="deletePO(element)" class="action-button-ed">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <!-- table ROW -->
                <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
            </table>
        </section>

        <hr>
    </div>

    <!-- paginator -->
    <div class="paginator" *ngIf="dataSource.filteredData.length">
        <mat-paginator (page)="handlePageEvent($event)" [pageSize]="pageSize" [length]="totalItems" [disabled]="false"
            [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
            [hidePageSize]="true" [pageIndex]="currentPageIndex" aria-label="Select page">
        </mat-paginator>
    </div>


</div>