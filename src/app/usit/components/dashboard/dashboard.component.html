<ul class="breadcrumb">
  <li><a>Home</a></li>
  <li class="last">Dashboard</li>
</ul>

<div *ngIf="department === 'Consultant' && role === 'Employee' ">
  <div class="overall-container-employee">
    <div class="container">
      <div class="left-div" >
        <div class="left-div-inner-cards">
          <div class="card-1">
            <mat-card>
              <div class="card">
                <mat-card-title>Applied Jobs <span>| {{ empAppliedJobsFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="employeeAppliedJobsCount('today', 'Today')">Today</button>
                  <button mat-menu-item (click)="employeeAppliedJobsCount('weekly', 'Weekly')">Weekly</button>
                  <button mat-menu-item (click)="employeeAppliedJobsCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="employeeAppliedJobsCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard"><span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="empAppliedJobsPopup()"> {{ empAppliedJobsCount }} </span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card>
              <div class="card">
                <mat-card-title>Submissions <span>| {{ empSubmissionsFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu1">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="employeeSubmissionCount('today', 'Today')">Today</button>
                  <button mat-menu-item (click)="employeeSubmissionCount('weekly', 'Weekly')">Weekly</button>
                  <button mat-menu-item (click)="employeeSubmissionCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="employeeSubmissionCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard"><span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="empSubmissionsPopup()">{{ empSubmissionCount }}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card>
              <div class="card">
                <mat-card-title>Interviews <span>| {{ empInterviewsFlag }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu2">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="employeeInterviewCount('today', 'Today')">Today</button>
                  <button mat-menu-item (click)="employeeInterviewCount('weekly', 'Weekly')">Weekly</button>
                  <button mat-menu-item (click)="employeeInterviewCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="employeeInterviewCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard"><span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="empInterviewsPopup()">{{ empInterviewCount }}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <div class="left-div-inner-table" *ngIf="sourcingLead">
          <div class="table-container table-wrapper">
            
  
          </div>
        </div>
  
        <div class="table-container-dice table-wrapper">
          
        </div>
     
      </div>
      <div class="right-div">
  
        <div>
          <mat-card class="activity-card-employee">
            <div class="card-body">
              <h3 class="card-title bold-text">Recent Activity
              </h3>
              <div class="activity" *ngFor="let data of datarr">
                <div class="time">
                  {{data.trtime}}
                </div>
                <div class="activity-content" *ngIf="data.flg=='VMS'">
                  <b> <a (click)="goToUserInfo(data.userid)"
                      class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                    <span
                      [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                      <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                      <ng-template #rejected>
                        <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                          class="bold-text">{{data.status}}</span>
                      </ng-template>
                      <ng-template #normal>
                        <span class="bold-text">{{data.status}}</span>
                      </ng-template>
                    </span>
                    &nbsp;
                    {{data.company}}
                  </b>
                </div>
                <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile to <b class="bold-text">{{data.company}}(V)
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                    <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}}(V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                      *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                  </b>
                  <!-- <b class="bold-text">{{data.emptype}}</b> -->
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                    <!-- <span *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> -->
                  </b>
                </div>

                <div class="activity-content" *ngIf="data.flag=='submission'">
                  <b class="bold-text status">{{data.status | titlecase}}</b> Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
                <div class="activity-content" *ngIf="data.flag=='interview'"> 
                  <b class="bold-text status">{{data.status | titlecase}}</b> in an interview that was scheduled for <b class="bold-text">{{data.interview_date| date:'MM-dd-yyyy' }} at {{data.interview_date | date:'HH:mm' }} {{ data.time_zone }}, </b>
                  <b class="bold-text ">{{ data.round| titlecase }}</b> round <b class="bold-text ">({{ data.mode}}), </b>
                  <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>

                <div class="activity-content" *ngIf="data.flag=='appliedJob'"> 
                  <b class="bold-text status">{{data.status | titlecase}}</b> for <b class="bold-text position">{{ data.job_title }} </b> at <b class="bold-text">{{ data.job_location }}
                  </b> on
                  <b class="bold-text">{{data.employment_type}}</b>
                </div>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
</div>

      <!-- Super Admin dashboard view -->
<div *ngIf="role == 'Super Administrator'">
  <div class="overall-container">
    <div class="container">
      <div class="left-div" >
        <div class="left-div-inner-cards">
          <div class="card-1">
            <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                  <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                    </p>
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','admin')"> {{ reccount }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu1">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                  <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','admin')">{{sintcount}}</span></p>
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu2">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p>
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <div class="left-div-inner-cards" *ngIf="individualCounts">
          <div class="card-1">
            <mat-card>
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuSub">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuSub="matMenu">
                  <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                  <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                  <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                    </p>
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card>
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuInt">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuInt="matMenu">
                  <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                  <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                  <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p>
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card>
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuClose">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuClose="matMenu">
                  <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p>
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
          <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">

          <div class="table-container table-wrapper">
            <div class="header-container-leading-resources">
              <span class="header-text">Sourcing Leads</span>
            </div>
            <hr>
            <section class="table-style mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" class="responsive-table">
                <ng-container matColumnDef="Name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                  <td mat-cell *matCellDef="let element">
                    <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                  </td>
                </ng-container>
                <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                </ng-container>
                <ng-container matColumnDef="Address">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                </ng-container>
                <ng-container matColumnDef="Email">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
                <ng-container matColumnDef="ContactNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                    Contact </th>
                  <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                </ng-container>
                <ng-container matColumnDef="Owner">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                </ng-container>
                <ng-container matColumnDef="Track">
                  <th mat-header-cell *matHeaderCellDef> Track </th>
                  <td mat-cell *matCellDef="let emp" class="action-buttons">
                    <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                      (click)="updateSlead(emp)">Update</button>
                  </td>
                </ng-container>
  
                <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
            </section>
          </div>
        </div>
  
        <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
          <div class="header-container-leading-resources">
            <span class="header-text">Daily Requirement Tags</span>
          </div>
          
          <hr>
          <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
            <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">
              <!-- Posted Date Column -->
              <ng-container matColumnDef="PostedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
                  Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
              </ng-container>
  
              <!-- Job Title Column -->
              <ng-container matColumnDef="JobTitle">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                </th>
                <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                    target="_blank">{{element?.job_title}}</a> </td>
              </ng-container>
  
              <!-- Category Column -->
              <!-- <ng-container matColumnDef="Category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                </th>
                <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
              </ng-container> -->
  
              <!-- Job Location Column -->
              <ng-container matColumnDef="JobLocation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                  Location
                </th>
                <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
              </ng-container>
  
              <!-- Vendor Column -->
              <ng-container matColumnDef="Vendor">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                  Vendor </th>
                <td mat-cell *matCellDef="let element">{{element.vendor}}</td>
              </ng-container>
  
              <!-- Owner Column -->
              <ng-container matColumnDef="TaggedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged
                  Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
              </ng-container>
  
              <!-- Track Column -->
              <ng-container matColumnDef="TaggedBy">
                <th mat-header-cell *matHeaderCellDef> TaggedBy </th>
                <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
              </ng-container>
  
              <ng-container matColumnDef="TCount">
                <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
              </ng-container>
  
  
              <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
            </table>
            <hr>
            <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
          </section>
  
        </div>
     
      </div>
      <div class="right-div">
        <div class="sourcing-card">
          <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
            <div class="card">
              <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
              <button mat-icon-button [matMenuTriggerFor]="menuSub">
                <mat-icon>more_horiz</mat-icon>
              </button>
              <mat-menu #menuSub="matMenu">
                <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
              </mat-menu>
            </div>
            <mat-card-content>
              <div style="display: flex;">
                <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                  <button mat-fab class="sourcing-icon">
                    <mat-icon>person</mat-icon>
                  </button>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                  </p>
                  <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                    </span></p>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                  </p>
                  <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                    </span></p>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
  
        <div>
          <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
            <div class="card-body">
              <h3 class="card-title bold-text">Recent Activity
              </h3>
              <div class="activity" *ngFor="let data of datarr">
                <div class="time">
                  {{data.trtime}}
                </div>
                <div class="activity-content" *ngIf="data.flg=='VMS'">
                  <b> <a (click)="goToUserInfo(data.userid)"
                      class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                    <span
                      [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                      <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                      <ng-template #rejected>
                        <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                          class="bold-text">{{data.status}}</span>
                      </ng-template>
                      <ng-template #normal>
                        <span class="bold-text">{{data.status}}</span>
                      </ng-template>
                    </span>
                    &nbsp;
                    {{data.company}}
                  </b>
                </div>
                <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile to <b class="bold-text">{{data.company}}(V)
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                    <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}}(V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                      *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                  </b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                  </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='submission'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='interview'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  
    <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
    <div class="header mat-elevation-z1">
      <span class="header-text">
          Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
      </span></div>
  <form [formGroup]="myForm" >
    <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
      <div class="header-container-leading-resources" style="padding-right: 6px;">
        <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
        
    <div style=" margin-right: 1rem;">
      <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
      <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
  </div>
  
  <div style=" margin-right: 1rem;">
      <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
      <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
  </div>
       <div style=" margin-right: 1rem; width: 10rem;">
  
    <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
      <option value="" disabled selected hidden> Employee Name</option>
        <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
    </select>
  </div>
  
  
      
        <div class="btn">
        <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
      </div>
      <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
        <!-- </form> -->
        <div class="vendor-actions">
          <div class="search-vendor">
            <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
          </div>
        </div>
  
      </div>
      <hr>
      <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
        <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
          <!-- Posted Date Column -->
          <ng-container matColumnDef="PostedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Job Title Column -->
          <ng-container matColumnDef="JobTitle">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
            </th>
            <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                target="_blank">{{element?.job_title|titlecase}}</a> </td>
          </ng-container>
  
          <!-- Category Column -->
          <ng-container matColumnDef="Category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
            <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
          </ng-container>
  
          <!-- Job Location Column -->
          <ng-container matColumnDef="JobLocation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
              Location
            </th>
            <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
          </ng-container>
  
          <!-- Vendor Column -->
          <ng-container matColumnDef="Vendor">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
              Vendor </th>
            <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
          </ng-container>
  
          <!-- Owner Column -->
          <ng-container matColumnDef="TaggedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Track Column -->
          <ng-container matColumnDef="TaggedBy" >
            <th mat-header-cell *matHeaderCellDef> Tagged By </th>
            <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
          </ng-container>
  
          <ng-container matColumnDef="TCount">
            <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
            <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
          </ng-container>
  
  
          <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
        </table>
        <hr>
        <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
      </section>
    </div>
  </form>
</div>
  </div>
</div>         

   <!-- sales Executive dashboard view -->
 <div *ngIf="department == 'Bench Sales' && role == 'Sales Executive' ">
  <div class="overall-container">
    <div class="container">
      <div class="left-div" >
        <div class="left-div-inner-cards">
          <div class="card-1">
            <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                  <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                    </p>
                    <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','admin')"> {{ reccount }}
                      </span></p> -->
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu1">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                  <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','admin')">{{sintcount}}</span></p>
                    <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                    </p> -->
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu2">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p>
              
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <div class="left-div-inner-cards" *ngIf="individualCounts">
          <div class="card-1">
            <mat-card>
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuSub">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuSub="matMenu">
                  <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                  <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                  <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                    </p>
                    <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                      </span></p> -->
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card>
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuInt">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuInt="matMenu">
                  <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                  <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                  <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p>
                    <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                    </p> -->
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card>
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuClose">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuClose="matMenu">
                  <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p>
                    <!-- <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p> -->
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
        
          <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
            <div class="header-container-leading-resources">
              <span class="header-text">Assigned consultants Requirements</span>
            </div>
            
            <hr>
            <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
              <table mat-table [dataSource]="dataSourceDicelax" class="responsive-table;">

<!-- Posted Date Column -->
<ng-container matColumnDef="PostedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
    Date
  </th>
  <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
</ng-container>

<!-- Job Title Column -->
<ng-container matColumnDef="JobTitle">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
  </th>
  <td mat-cell *matCellDef="let element">{{element?.job_title}} </td>
</ng-container>

<!-- Job Location Column -->
<ng-container matColumnDef="JobLocation">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job Location
   
  </th>
  <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
</ng-container>

<!-- Vendor Column -->
<ng-container matColumnDef="Vendor">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
    Category Skill </th>
  <td mat-cell *matCellDef="let element">{{element.category_skill}}</td>
</ng-container>

<!-- Owner Column -->
<ng-container matColumnDef="TaggedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Job Source
   
  </th>
  <!-- <td mat-cell *matCellDef="let element"><a href="{{ element.job_source }}"
    target="_blank">{{element?.job_source}}</a></td> -->

    <td mat-cell *matCellDef="let element">
      <button style="color:#4154f1" mat-button (click)="openLink(element.job_source)">
        Link
      </button>
    </td>
</ng-container>

<!-- Track Column -->
<ng-container matColumnDef="TaggedBy">
  <th mat-header-cell *matHeaderCellDef> Employment Type </th>
  <td mat-cell *matCellDef="let element"> {{ element.employment_type }} </td>
</ng-container>

<ng-container matColumnDef="TCount">
  <th mat-header-cell *matHeaderCellDef> Vendor </th>
  <td mat-cell *matCellDef="let element"> {{ element.vendor }} </td>
</ng-container>    
    
                <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
              </table>
              
              <hr>
              <p class="no-data-found" *ngIf="!dataSourceDicelax.filteredData.length">{{'No matching data found'}}</p>
            </section>
            <div class="paginator" *ngIf="dataSourceDicelax.filteredData.length">
              <!-- paginator -->
              <mat-paginator (page)="handlePageEvent($event)" [length]="totalItems" [pageSize]="pageSize" [disabled]="false"
                  [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
                  [hidePageSize]="true" [pageIndex]="currentPageIndex" aria-label="Select page">
              </mat-paginator>
            </div>
          </div>

        
      </div>
      <div class="right-div">
      <div>
        <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
          <div class="card-body">
            <h3 class="card-title bold-text">Recent Activity
            </h3>
            <div class="activity" *ngFor="let data of datarr">
              <div class="time">
                {{data.trtime}}
              </div>
              <div class="activity-content" *ngIf="data.flg=='VMS'">
                <b> <a (click)="goToUserInfo(data.userid)"
                    class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                  <span
                    [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                    <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                    <ng-template #rejected>
                      <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                        class="bold-text">{{data.status}}</span>
                    </ng-template>
                    <ng-template #normal>
                      <span class="bold-text">{{data.status}}</span>
                    </ng-template>
                  </span>
                  &nbsp;
                  {{data.company}}
                </b>
              </div>
              <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                {{data.status}} <b>
                  <a (click)="goToConsultantInfo(data.consultantid)"
                    class="bold-text consultant-id">{{data.consultantname}}</a>
                </b>
                Profile to <b class="bold-text">{{data.company}}(V)
                  <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                  <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                </b> on
                <b class="bold-text">{{data.emptype}}</b>
                <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
              </div>

              <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                {{data.status}} <b>
                  <a (click)="goToConsultantInfo(data.consultantid)"
                    class="bold-text consultant-id">{{data.consultantname}}</a>
                </b>
                Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                    class="bold-text">{{data.company}}(V),</span>
                  <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                </b> on
                <b class="bold-text">{{data.emptype}}</b>
                <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                    *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
              </div>

              <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                {{data.status}} <b>
                  <a (click)="goToConsultantInfo(data.consultantid)"
                    class="bold-text consultant-id">{{data.consultantname}}</a>
                </b>
                Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                    class="bold-text">{{data.company}} (V),</span>
                  <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                </b>
                <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                </b>
              </div>

              <div class="activity-content" *ngIf="data.flg=='submission'">
                {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                    class="bold-text">{{data.company}} (V),</span>
                </b>
                on
                <b class="bold-text">{{data.emptype}}</b>
                <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                  *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
              </div>

              <div class="activity-content" *ngIf="data.flg=='interview'">
                {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                    class="bold-text">{{data.company}} (V),</span>
                </b>
                on
                <b class="bold-text">{{data.emptype}}</b>
                <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                  *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
    </div>
  </div>
</div>

   <!-- sales Team Leads dashboard view -->
   <div *ngIf="department == 'Bench Sales' && role == 'Team Leader Sales' ">
    <div class="overall-container">
      <div class="container">
        <div class="left-div" >
          <div class="left-div-inner-cards">
            <div class="card-1">
              <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
                <div class="card">
                  <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menu">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                    <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                    <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                    <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                      <button mat-fab class="submission-icon">
                        <mat-icon>assignment</mat-icon>
                      </button>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                      </p>
                      <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="subPop('Recruiting','admin')"> {{ reccount }}
                        </span></p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="card-2">
              <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
                <div class="card">
                  <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menu1">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menu1="matMenu">
                    <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                    <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                    <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                    <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="interview-icon">
                        <mat-icon>chat_bubble_outline</mat-icon>
                      </button>
                      <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="intPop('Sales','admin')">{{sintcount}}</span></p>
                      <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                      </p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="card-3">
              <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
                <div class="card">
                  <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menu2">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menu2="matMenu">
                    <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                    <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                    <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                    <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="closure-icon">
                        <mat-icon>check_circle</mat-icon>
                      </button>
                      <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                          (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p>
                      <!-- <p class="dashboard">Recruiting :<span
                          style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                          (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </div>

          <div class="left-div-inner-cards" *ngIf="individualCounts">
            <div class="card-1">
              <mat-card>
                <div class="card">
                  <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menuSub">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menuSub="matMenu">
                    <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                    <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                    <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                    <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="submission-icon">
                        <mat-icon>assignment</mat-icon>
                      </button>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                      </p>
                      <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                        </span></p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="card-2">
              <mat-card>
                <div class="card">
                  <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menuInt">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menuInt="matMenu">
                    <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                    <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                    <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                    <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="interview-icon">
                        <mat-icon>chat_bubble_outline</mat-icon>
                      </button>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p>
                      <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                      </p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="card-3">
              <mat-card>
                <div class="card">
                  <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menuClose">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menuClose="matMenu">
                    <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                    <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                    <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                    <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="closure-icon">
                        <mat-icon>check_circle</mat-icon>
                      </button>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                          (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p>
                      <!-- <p class="dashboard">Recruiting :<span
                          style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                          (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p> -->
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
    
          <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
            <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">
  
            <div class="table-container table-wrapper">
              <div class="header-container-leading-resources">
                <span class="header-text">Sourcing Leads</span>
              </div>
              <hr>
              <section class="table-style mat-elevation-z8">
                <table mat-table [dataSource]="dataSource" class="responsive-table">
                  <ng-container matColumnDef="Name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                    <td mat-cell *matCellDef="let element">
                      <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Category">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                  </ng-container>
                  <ng-container matColumnDef="Address">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                  </ng-container>
                  <ng-container matColumnDef="Email">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                  </ng-container>
                  <ng-container matColumnDef="ContactNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                      Contact </th>
                    <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                  </ng-container>
                  <ng-container matColumnDef="Owner">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                  </ng-container>
                  <ng-container matColumnDef="Track">
                    <th mat-header-cell *matHeaderCellDef> Track </th>
                    <td mat-cell *matCellDef="let emp" class="action-buttons">
                      <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                        (click)="updateSlead(emp)">Update</button>
                    </td>
                  </ng-container>
    
                  <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
                </table>
                <hr>
                <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
              </section>
            </div>
          </div>
    
          <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
            <div class="header-container-leading-resources">
              <span class="header-text">Assigned consultants Requirements</span>
            </div>
            
            <hr>
            <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
              <table mat-table [dataSource]="dataSourceDicelax" class="responsive-table;">
               

    <!-- Posted Date Column -->
    <ng-container matColumnDef="PostedDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
        Date
      </th>
      <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
    </ng-container>

    <!-- Job Title Column -->
    <ng-container matColumnDef="JobTitle">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
      </th>
      <td mat-cell *matCellDef="let element">{{element?.job_title}} </td>
    </ng-container>

    <!-- Job Location Column -->
    <ng-container matColumnDef="JobLocation">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job Location
       
      </th>
      <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
    </ng-container>

    <!-- Vendor Column -->
    <ng-container matColumnDef="Vendor">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
        Category Skill </th>
      <td mat-cell *matCellDef="let element">{{element.category_skill}}</td>
    </ng-container>

    <!-- Owner Column -->
    <ng-container matColumnDef="TaggedDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Job Source
       
      </th>
      <!-- <td mat-cell *matCellDef="let element"><a href="{{ element.job_source }}"
        target="_blank">{{element?.job_source}}</a></td> -->

        <td mat-cell *matCellDef="let element">
          <button style="color:#4154f1" mat-button (click)="openLink(element.job_source)">
            Link
          </button>
        </td>
    </ng-container>

    <!-- Track Column -->
    <ng-container matColumnDef="TaggedBy">
      <th mat-header-cell *matHeaderCellDef> Employment Type </th>
      <td mat-cell *matCellDef="let element"> {{ element.employment_type }} </td>
    </ng-container>

    <ng-container matColumnDef="TCount">
      <th mat-header-cell *matHeaderCellDef> Vendor </th>
      <td mat-cell *matCellDef="let element"> {{ element.vendor }} </td>
    </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
            </section>
            <div class="paginator" *ngIf="dataSourceDicelax.filteredData.length">
              <!-- paginator -->
              <mat-paginator (page)="handlePageEvent($event)" [length]="totalItems" [pageSize]="pageSize" [disabled]="false"
                  [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
                  [hidePageSize]="true" [pageIndex]="currentPageIndex" aria-label="Select page">
              </mat-paginator>
            </div>
     </div>

     <div style="width:1590px">
          <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
            <div class="header-container-leading-resources">
              <span class="header-text">Daily Requirement Tags</span>
            </div>
            
            <hr>
            <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
              <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">


 <!-- Posted Date Column -->
 <ng-container matColumnDef="PostedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
    Date
  </th>
  <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
</ng-container>

<!-- Job Title Column -->
<ng-container matColumnDef="JobTitle">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
  </th>
  <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
      target="_blank">{{element?.job_title}}</a> </td>
</ng-container>

<!-- Category Column -->
<!-- <ng-container matColumnDef="Category">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
  </th>
  <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
</ng-container> -->

<!-- Job Location Column -->
<ng-container matColumnDef="JobLocation">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
    Location
  </th>
  <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
</ng-container>

<!-- Vendor Column -->
<ng-container matColumnDef="Vendor">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
    Vendor </th>
  <td mat-cell *matCellDef="let element">{{element.vendor}}</td>
</ng-container>

<!-- Owner Column -->
<ng-container matColumnDef="TaggedDate">
  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged
    Date
  </th>
  <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
</ng-container>

<!-- Track Column -->
<ng-container matColumnDef="TaggedBy">
  <th mat-header-cell *matHeaderCellDef> TaggedBy </th>
  <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
</ng-container>

<ng-container matColumnDef="TCount">
  <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
  <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
</ng-container>
                
    
                <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
              </table>
              
              <hr>
              <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
            </section>

          </div>
</div>

         <div>
           
         </div>

        </div>
        <div class="right-div" style="height:950px">
          <div class="sourcing-card">
            <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
              <div class="card">
                <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuSub">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuSub="matMenu">
                  <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                  <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                  <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="sourcing-icon">
                      <mat-icon>person</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                    </p>
                    <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                      </span></p>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                    </p>
                    <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
    
          <div>
            <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
              <div class="card-body">
                <h3 class="card-title bold-text">Recent Activity
                </h3>
                <div class="activity" *ngFor="let data of datarr">
                  <div class="time">
                    {{data.trtime}}
                  </div>
                  <div class="activity-content" *ngIf="data.flg=='VMS'">
                    <b> <a (click)="goToUserInfo(data.userid)"
                        class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                      <span
                        [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                        <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                        <ng-template #rejected>
                          <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                            class="bold-text">{{data.status}}</span>
                        </ng-template>
                        <ng-template #normal>
                          <span class="bold-text">{{data.status}}</span>
                        </ng-template>
                      </span>
                      &nbsp;
                      {{data.company}}
                    </b>
                  </div>
                  <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                    <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                    {{data.status}} <b>
                      <a (click)="goToConsultantInfo(data.consultantid)"
                        class="bold-text consultant-id">{{data.consultantname}}</a>
                    </b>
                    Profile to <b class="bold-text">{{data.company}}(V)
                      <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                      <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                    </b> on
                    <b class="bold-text">{{data.emptype}}</b>
                    <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                        *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                  </div>
    
                  <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                    <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                    {{data.status}} <b>
                      <a (click)="goToConsultantInfo(data.consultantid)"
                        class="bold-text consultant-id">{{data.consultantname}}</a>
                    </b>
                    Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                        class="bold-text">{{data.company}}(V),</span>
                      <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                    </b> on
                    <b class="bold-text">{{data.emptype}}</b>
                    <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                        *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                  </div>
    
                  <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                    <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                    {{data.status}} <b>
                      <a (click)="goToConsultantInfo(data.consultantid)"
                        class="bold-text consultant-id">{{data.consultantname}}</a>
                    </b>
                    Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                        class="bold-text">{{data.company}} (V),</span>
                      <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                    </b>
                    <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                    </b>
                  </div>
  
                  <div class="activity-content" *ngIf="data.flg=='submission'">
                    {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                        class="bold-text">{{data.company}} (V),</span>
                    </b>
                    on
                    <b class="bold-text">{{data.emptype}}</b>
                    <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                  </div>
  
                  <div class="activity-content" *ngIf="data.flg=='interview'">
                    {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                        class="bold-text">{{data.company}} (V),</span>
                    </b>
                    on
                    <b class="bold-text">{{data.emptype}}</b>
                    <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                  </div>
                </div>
              </div>
            </mat-card>
          </div>
        </div>
        <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
          <div class="header mat-elevation-z1">
            <span class="header-text">
                Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
            </span></div>
        <form [formGroup]="myForm" >
          <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
            <div class="header-container-leading-resources" style="padding-right: 6px;">
              <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
              
          <div style=" margin-right: 1rem;">
            <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
            <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
        </div>
        
        <div style=" margin-right: 1rem;">
            <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
            <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
        </div>
             <div style=" margin-right: 1rem; width: 10rem;">
        
          <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
            <option value="" disabled selected hidden> Employee Name</option>
              <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
          </select>
        </div>
        
        
            
              <div class="btn">
              <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
            </div>
            <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
              <!-- </form> -->
              <div class="vendor-actions">
                <div class="search-vendor">
                  <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
                </div>
              </div>
        
            </div>
            <hr>
            <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
              <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
                <!-- Posted Date Column -->
                <ng-container matColumnDef="PostedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
                </ng-container>
        
                <!-- Job Title Column -->
                <ng-container matColumnDef="JobTitle">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                  </th>
                  <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                      target="_blank">{{element?.job_title|titlecase}}</a> </td>
                </ng-container>
        
                <!-- Category Column -->
                <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
                  <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                </ng-container>
        
                <!-- Job Location Column -->
                <ng-container matColumnDef="JobLocation">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                    Location
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
                </ng-container>
        
                <!-- Vendor Column -->
                <ng-container matColumnDef="Vendor">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                    Vendor </th>
                  <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
                </ng-container>
        
                <!-- Owner Column -->
                <ng-container matColumnDef="TaggedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
                </ng-container>
        
                <!-- Track Column -->
                <ng-container matColumnDef="TaggedBy" >
                  <th mat-header-cell *matHeaderCellDef> Tagged By </th>
                  <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
                </ng-container>
        
                <ng-container matColumnDef="TCount">
                  <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                  <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
                </ng-container>
        
        
                <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
            </section>
          </div>
        </form>
      </div>
      </div>
    
      <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
      <div class="header mat-elevation-z1">
        <span class="header-text">
            Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
        </span></div>
    <form [formGroup]="myForm" >
      <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
        <div class="header-container-leading-resources" style="padding-right: 6px;">
          <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
          
      <div style=" margin-right: 1rem;">
        <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
        <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
    </div>
    
    <div style=" margin-right: 1rem;">
        <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
        <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
    </div>
         <div style=" margin-right: 1rem; width: 10rem;">
    
      <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
        <option value="" disabled selected hidden> Employee Name</option>
          <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
      </select>
    </div>
    
    
        
          <div class="btn">
          <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
        </div>
        <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
          <!-- </form> -->
          <div class="vendor-actions">
            <div class="search-vendor">
              <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
            </div>
          </div>
    
        </div>
        <hr>
        <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
          <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
            <!-- Posted Date Column -->
            <ng-container matColumnDef="PostedDate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
              </th>
              <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
            </ng-container>
    
            <!-- Job Title Column -->
            <ng-container matColumnDef="JobTitle">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
              </th>
              <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                  target="_blank">{{element?.job_title|titlecase}}</a> </td>
            </ng-container>
    
            <!-- Category Column -->
            <ng-container matColumnDef="Category">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
              <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
            </ng-container>
    
            <!-- Job Location Column -->
            <ng-container matColumnDef="JobLocation">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                Location
              </th>
              <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
            </ng-container>
    
            <!-- Vendor Column -->
            <ng-container matColumnDef="Vendor">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                Vendor </th>
              <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
            </ng-container>
    
            <!-- Owner Column -->
            <ng-container matColumnDef="TaggedDate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
              </th>
              <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
            </ng-container>
    
            <!-- Track Column -->
            <ng-container matColumnDef="TaggedBy" >
              <th mat-header-cell *matHeaderCellDef> Tagged By </th>
              <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
            </ng-container>
    
            <ng-container matColumnDef="TCount">
              <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
              <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
            </ng-container>
    
    
            <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
          </table>
          <hr>
          <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
        </section>
      </div>
    </form>
  </div>
    </div>
  </div>    

    <!-- sales Team manager dashboard view -->
    <div *ngIf="department == 'Bench Sales' && role == 'Sales Manager' ">
      <div class="overall-container">
        <div class="container">
          <div class="left-div" >
            <div class="left-div-inner-cards">
              <div class="card-1">
                <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
                  <div class="card">
                    <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menu">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                      <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                      <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                      <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                        <button mat-fab class="submission-icon">
                          <mat-icon>assignment</mat-icon>
                        </button>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                        </p>
                        <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="subPop('Recruiting','admin')"> {{ reccount }}
                          </span></p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
              <div class="card-2">
                <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
                  <div class="card">
                    <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menu1">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menu1="matMenu">
                      <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                      <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                      <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                      <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="interview-icon">
                          <mat-icon>chat_bubble_outline</mat-icon>
                        </button>
                        <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="intPop('Sales','admin')">{{sintcount}}</span></p>
                        <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                        </p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
              <div class="card-3">
                <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
                  <div class="card">
                    <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menu2">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menu2="matMenu">
                      <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                      <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                      <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                      <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="closure-icon">
                          <mat-icon>check_circle</mat-icon>
                        </button>
                        <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                            (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p>
                        <!-- <p class="dashboard">Recruiting :<span
                            style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                            (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
            </div>
  
            <div class="left-div-inner-cards" *ngIf="individualCounts">
              <div class="card-1">
                <mat-card>
                  <div class="card">
                    <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menuSub">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menuSub="matMenu">
                      <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                      <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                      <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                      <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="submission-icon">
                          <mat-icon>assignment</mat-icon>
                        </button>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                        </p>
                        <!-- <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                          </span></p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
              <div class="card-2">
                <mat-card>
                  <div class="card">
                    <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menuInt">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menuInt="matMenu">
                      <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                      <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                      <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                      <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="interview-icon">
                          <mat-icon>chat_bubble_outline</mat-icon>
                        </button>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p>
                        <!-- <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                        </p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
              <div class="card-3">
                <mat-card>
                  <div class="card">
                    <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menuClose">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menuClose="matMenu">
                      <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                      <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                      <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                      <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="closure-icon">
                          <mat-icon>check_circle</mat-icon>
                        </button>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                            (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p>
                        <!-- <p class="dashboard">Recruiting :<span
                            style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                            (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p> -->
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
            </div>
      
            <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
              <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">
    
              <div class="table-container table-wrapper">
                <div class="header-container-leading-resources">
                  <span class="header-text">Sourcing Leads</span>
                </div>
                <hr>
                <section class="table-style mat-elevation-z8">
                  <table mat-table [dataSource]="dataSource" class="responsive-table">
                    <ng-container matColumnDef="Name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                      <td mat-cell *matCellDef="let element">
                        <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="Category">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Address">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Email">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                    </ng-container>
                    <ng-container matColumnDef="ContactNumber">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                        Contact </th>
                      <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                    </ng-container>
                    <ng-container matColumnDef="Owner">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Track">
                      <th mat-header-cell *matHeaderCellDef> Track </th>
                      <td mat-cell *matCellDef="let emp" class="action-buttons">
                        <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                          (click)="updateSlead(emp)">Update</button>
                      </td>
                    </ng-container>
      
                    <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
                  </table>
                  <hr>
                  <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
                </section>
              </div>
            </div>
      
            <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
              <div class="header-container-leading-resources">
                <span class="header-text">Assigned consultants Requirements</span>
              </div>
              
              <hr>
              <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
                <table mat-table [dataSource]="dataSourceDicelax" class="responsive-table;">
                 
      <!-- Posted Date Column -->
      <ng-container matColumnDef="PostedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
          Date
        </th>
        <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
      </ng-container>

      <!-- Job Title Column -->
      <ng-container matColumnDef="JobTitle">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
        </th>
        <td mat-cell *matCellDef="let element">{{element?.job_title}} </td>
      </ng-container>

      <!-- Job Location Column -->
      <ng-container matColumnDef="JobLocation">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job Location
         
        </th>
        <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
      </ng-container>

      <!-- Vendor Column -->
      <ng-container matColumnDef="Vendor">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
          Category Skill </th>
        <td mat-cell *matCellDef="let element">{{element.category_skill}}</td>
      </ng-container>

      <!-- Owner Column -->
      <ng-container matColumnDef="TaggedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Job Source
         
        </th>
        <!-- <td mat-cell *matCellDef="let element"><a href="{{ element.job_source }}"
          target="_blank">{{element?.job_source}}</a></td> -->

          <td mat-cell *matCellDef="let element">
            <button style="color:#4154f1" mat-button (click)="openLink(element.job_source)">
              Link
            </button>
          </td>
      </ng-container>

      <!-- Track Column -->
      <ng-container matColumnDef="TaggedBy">
        <th mat-header-cell *matHeaderCellDef> Employment Type </th>
        <td mat-cell *matCellDef="let element"> {{ element.employment_type }} </td>
      </ng-container>

      <ng-container matColumnDef="TCount">
        <th mat-header-cell *matHeaderCellDef> Vendor </th>
        <td mat-cell *matCellDef="let element"> {{ element.vendor }} </td>
      </ng-container>
      
                  <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                </table>
                <hr>
                <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
              </section>

              <div class="paginator" *ngIf="dataSourceDicelax.filteredData.length">
                <!-- paginator -->
                <mat-paginator (page)="handlePageEvent($event)" [length]="totalItems" [pageSize]="pageSize" [disabled]="false"
                    [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
                    [hidePageSize]="true" [pageIndex]="currentPageIndex" aria-label="Select page">
                </mat-paginator>
              </div>
      
            </div>
       
            <div style="width:1590px">
              <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
                <div class="header-container-leading-resources">
                  <span class="header-text">Daily Requirement Tags </span>
                </div>
                
                <hr>
                <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
                  <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">

                  <!-- Posted Date Column -->
                <ng-container matColumnDef="PostedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
                    Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
                </ng-container>
    
                <!-- Job Title Column -->
                <ng-container matColumnDef="JobTitle">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                  </th>
                  <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                      target="_blank">{{element?.job_title}}</a> </td>
                </ng-container>
    
                <!-- Category Column -->
                <!-- <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                </ng-container> -->
    
                <!-- Job Location Column -->
                <ng-container matColumnDef="JobLocation">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                    Location
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
                </ng-container>
    
                <!-- Vendor Column -->
                <ng-container matColumnDef="Vendor">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                    Vendor </th>
                  <td mat-cell *matCellDef="let element">{{element.vendor}}</td>
                </ng-container>
    
                <!-- Owner Column -->
                <ng-container matColumnDef="TaggedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged
                    Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
                </ng-container>
    
                <!-- Track Column -->
                <ng-container matColumnDef="TaggedBy">
                  <th mat-header-cell *matHeaderCellDef> TaggedBy </th>
                  <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
                </ng-container>
    
                <ng-container matColumnDef="TCount">
                  <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                  <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
                </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                  </table>
                  
                  <hr>
                  <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
                </section>
               
              </div>
    </div>

           <div></div>
  
          </div>
          <div class="right-div" style="height:950px">
            <div class="sourcing-card">
              <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
                <div class="card">
                  <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
                  <button mat-icon-button [matMenuTriggerFor]="menuSub">
                    <mat-icon>more_horiz</mat-icon>
                  </button>
                  <mat-menu #menuSub="matMenu">
                    <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                    <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                    <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                    <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
                  </mat-menu>
                </div>
                <mat-card-content>
                  <div style="display: flex;">
                    <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                      <button mat-fab class="sourcing-icon">
                        <mat-icon>person</mat-icon>
                      </button>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                      </p>
                      <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                        </span></p>
                    </div>
                    <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                      <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                      </p>
                      <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                          (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                        </span></p>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
      
            <div>
              <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
                <div class="card-body">
                  <h3 class="card-title bold-text">Recent Activity
                  </h3>
                  <div class="activity" *ngFor="let data of datarr">
                    <div class="time">
                      {{data.trtime}}
                    </div>
                    <div class="activity-content" *ngIf="data.flg=='VMS'">
                      <b> <a (click)="goToUserInfo(data.userid)"
                          class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                        <span
                          [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                          <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                          <ng-template #rejected>
                            <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                              class="bold-text">{{data.status}}</span>
                          </ng-template>
                          <ng-template #normal>
                            <span class="bold-text">{{data.status}}</span>
                          </ng-template>
                        </span>
                        &nbsp;
                        {{data.company}}
                      </b>
                    </div>
                    <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                      <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                      {{data.status}} <b>
                        <a (click)="goToConsultantInfo(data.consultantid)"
                          class="bold-text consultant-id">{{data.consultantname}}</a>
                      </b>
                      Profile to <b class="bold-text">{{data.company}}(V)
                        <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                        <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                      </b> on
                      <b class="bold-text">{{data.emptype}}</b>
                      <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                          *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                    </div>
      
                    <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                      <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                      {{data.status}} <b>
                        <a (click)="goToConsultantInfo(data.consultantid)"
                          class="bold-text consultant-id">{{data.consultantname}}</a>
                      </b>
                      Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                          class="bold-text">{{data.company}}(V),</span>
                        <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                      </b> on
                      <b class="bold-text">{{data.emptype}}</b>
                      <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                          *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                    </div>
      
                    <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                      <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                      {{data.status}} <b>
                        <a (click)="goToConsultantInfo(data.consultantid)"
                          class="bold-text consultant-id">{{data.consultantname}}</a>
                      </b>
                      Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                          class="bold-text">{{data.company}} (V),</span>
                        <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                      </b>
                      <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                      </b>
                    </div>
    
                    <div class="activity-content" *ngIf="data.flg=='submission'">
                      {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                          class="bold-text">{{data.company}} (V),</span>
                      </b>
                      on
                      <b class="bold-text">{{data.emptype}}</b>
                      <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                        *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                    </div>
    
                    <div class="activity-content" *ngIf="data.flg=='interview'">
                      {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                          class="bold-text">{{data.company}} (V),</span>
                      </b>
                      on
                      <b class="bold-text">{{data.emptype}}</b>
                      <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                        *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                    </div>
                  </div>
                </div>
              </mat-card>
            </div>
          </div>
          <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
            <div class="header mat-elevation-z1">
              <span class="header-text">
                  Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
              </span></div>
          <form [formGroup]="myForm" >
            <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
              <div class="header-container-leading-resources" style="padding-right: 6px;">
                <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
                
            <div style=" margin-right: 1rem;">
              <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
              <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
          </div>
          
          <div style=" margin-right: 1rem;">
              <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
              <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
          </div>
               <div style=" margin-right: 1rem; width: 10rem;">
          
            <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
              <option value="" disabled selected hidden> Employee Name</option>
                <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
            </select>
          </div>
          
          
              
                <div class="btn">
                <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
              </div>
              <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
                <!-- </form> -->
                <div class="vendor-actions">
                  <div class="search-vendor">
                    <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
                  </div>
                </div>
          
              </div>
              <hr>
              <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
                <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
                  <!-- Posted Date Column -->
                  <ng-container matColumnDef="PostedDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
                    </th>
                    <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
                  </ng-container>
          
                  <!-- Job Title Column -->
                  <ng-container matColumnDef="JobTitle">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                    </th>
                    <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                        target="_blank">{{element?.job_title|titlecase}}</a> </td>
                  </ng-container>
          
                  <!-- Category Column -->
                  <ng-container matColumnDef="Category">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
                    <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                  </ng-container>
          
                  <!-- Job Location Column -->
                  <ng-container matColumnDef="JobLocation">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                      Location
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
                  </ng-container>
          
                  <!-- Vendor Column -->
                  <ng-container matColumnDef="Vendor">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                      Vendor </th>
                    <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
                  </ng-container>
          
                  <!-- Owner Column -->
                  <ng-container matColumnDef="TaggedDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
                    </th>
                    <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
                  </ng-container>
          
                  <!-- Track Column -->
                  <ng-container matColumnDef="TaggedBy" >
                    <th mat-header-cell *matHeaderCellDef> Tagged By </th>
                    <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
                  </ng-container>
          
                  <ng-container matColumnDef="TCount">
                    <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                    <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
                  </ng-container>
          
          
                  <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                </table>
                <hr>
                <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
              </section>
            </div>
          </form>
        </div>
        </div>
      
        <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
        <div class="header mat-elevation-z1">
          <span class="header-text">
              Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
          </span></div>
      <form [formGroup]="myForm" >
        <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
          <div class="header-container-leading-resources" style="padding-right: 6px;">
            <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
            
        <div style=" margin-right: 1rem;">
          <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
          <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
      </div>
      
      <div style=" margin-right: 1rem;">
          <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
          <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
      </div>
           <div style=" margin-right: 1rem; width: 10rem;">
      
        <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
          <option value="" disabled selected hidden> Employee Name</option>
            <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
        </select>
      </div>
      
      
          
            <div class="btn">
            <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
          </div>
          <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
            <!-- </form> -->
            <div class="vendor-actions">
              <div class="search-vendor">
                <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
              </div>
            </div>
      
          </div>
          <hr>
          <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
            <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
              <!-- Posted Date Column -->
              <ng-container matColumnDef="PostedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
              </ng-container>
      
              <!-- Job Title Column -->
              <ng-container matColumnDef="JobTitle">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                </th>
                <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                    target="_blank">{{element?.job_title|titlecase}}</a> </td>
              </ng-container>
      
              <!-- Category Column -->
              <ng-container matColumnDef="Category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
                <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
              </ng-container>
      
              <!-- Job Location Column -->
              <ng-container matColumnDef="JobLocation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                  Location
                </th>
                <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
              </ng-container>
      
              <!-- Vendor Column -->
              <ng-container matColumnDef="Vendor">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                  Vendor </th>
                <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
              </ng-container>
      
              <!-- Owner Column -->
              <ng-container matColumnDef="TaggedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
              </ng-container>
      
              <!-- Track Column -->
              <ng-container matColumnDef="TaggedBy" >
                <th mat-header-cell *matHeaderCellDef> Tagged By </th>
                <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
              </ng-container>
      
              <ng-container matColumnDef="TCount">
                <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
              </ng-container>
      
      
              <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
            </table>
            <hr>
            <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
          </section>
        </div>
      </form>
    </div>
      </div>
    </div>  

      <!-- Recruiting Recruiter dashboard view -->
      <div *ngIf="department == 'Recruiting' && role == 'Recruiter'">
        <div class="overall-container">
          <div class="container">
            <div class="left-div" >
              <div class="left-div-inner-cards">
                <div class="card-1">
                  <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
                    <div class="card">
                      <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menu">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                        <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                        <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                        <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                          <button mat-fab class="submission-icon">
                            <mat-icon>assignment</mat-icon>
                          </button>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                          </p> -->
                          <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="subPop('Recruiting','admin')"> {{ reccount }}
                            </span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="card-2">
                  <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
                    <div class="card">
                      <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menu1">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menu1="matMenu">
                        <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                        <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                        <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                        <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="interview-icon">
                            <mat-icon>chat_bubble_outline</mat-icon>
                          </button>
                          <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="intPop('Sales','admin')">{{sintcount}}</span></p> -->
                          <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                          </p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="card-3">
                  <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
                    <div class="card">
                      <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menu2">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menu2="matMenu">
                        <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                        <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                        <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                        <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="closure-icon">
                            <mat-icon>check_circle</mat-icon>
                          </button>
                          <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                              (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p> -->
                          <p class="dashboard">Recruiting :<span
                              style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                              (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
              </div>
        
              <div class="left-div-inner-cards" *ngIf="individualCounts">
                <div class="card-1">
                  <mat-card>
                    <div class="card">
                      <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menuSub">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menuSub="matMenu">
                        <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                        <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                        <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                        <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="submission-icon">
                            <mat-icon>assignment</mat-icon>
                          </button>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                          </p> -->
                          <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                            </span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="card-2">
                  <mat-card>
                    <div class="card">
                      <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menuInt">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menuInt="matMenu">
                        <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                        <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                        <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                        <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="interview-icon">
                            <mat-icon>chat_bubble_outline</mat-icon>
                          </button>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p> -->
                          <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                          </p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="card-3">
                  <mat-card>
                    <div class="card">
                      <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menuClose">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menuClose="matMenu">
                        <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                        <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                        <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                        <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="closure-icon">
                            <mat-icon>check_circle</mat-icon>
                          </button>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <!-- <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                              (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p> -->
                          <p class="dashboard">Recruiting :<span
                              style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                              (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
              </div>

              <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
                <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">
      
                <div class="table-container table-wrapper">
                  <div class="header-container-leading-resources">
                    <span class="header-text">Sourcing Leads</span>
                  </div>
                  <hr>
                  <section class="table-style mat-elevation-z8">
                    <table mat-table [dataSource]="dataSource" class="responsive-table">
                      <ng-container matColumnDef="Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                        <td mat-cell *matCellDef="let element">
                          <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="Category">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                      </ng-container>
                      <ng-container matColumnDef="Address">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                      </ng-container>
                      <ng-container matColumnDef="Email">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                      </ng-container>
                      <ng-container matColumnDef="ContactNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                          Contact </th>
                        <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Owner">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                      </ng-container>
                      <ng-container matColumnDef="Track">
                        <th mat-header-cell *matHeaderCellDef> Track </th>
                        <td mat-cell *matCellDef="let emp" class="action-buttons">
                          <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                            (click)="updateSlead(emp)">Update</button>
                        </td>
                      </ng-container>
        
                      <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                      <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
                    </table>
                    <hr>
                    <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
                  </section>
                </div>
              </div>
        
              <!-- <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead"> -->
                <div class="table-container-dice table-wrapper">
                <div class="header-container-leading-resources">
                  <span class="header-text">Recruiting Latest Requirement</span>
                </div>
                
                <hr>
                <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
                  <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">
                    <!-- Posted Date Column -->
                    <ng-container matColumnDef="PostedDate">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Requirement Number
                      </th>
                      <!-- <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td> -->
                      <td mat-cell *matCellDef="let element" nowrap> {{element.reqnumber}} </td>
                    </ng-container>
        
                    <!-- Job Title Column -->
                    <ng-container matColumnDef="JobTitle">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Date
                      </th>
                      <!-- <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                          target="_blank">{{element?.job_title}}</a> </td> -->
                          <td mat-cell *matCellDef="let element" nowrap> {{element?.createddate | date:'MM-dd-yyyy' }} </td>
                    </ng-container>
        
                    <!-- Category Column -->
                    <!-- <ng-container matColumnDef="Category">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                    </ng-container> -->
        
                    <!-- Job Location Column -->
                    <ng-container matColumnDef="JobLocation">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                        Title
                      </th>
                      <td mat-cell *matCellDef="let element"> {{element.jobtitle}} </td>
                    </ng-container>
        
                    <!-- Vendor Column -->
                    <ng-container matColumnDef="Vendor">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                        Location </th>
                      <!-- <td mat-cell *matCellDef="let element">{{element.vendor}}</td> -->
                      <td mat-cell *matCellDef="let element"> {{element.location}} </td>
                    </ng-container>
        
                    <!-- Owner Column -->
                    <ng-container matColumnDef="TaggedDate">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> IP/Vendor
                      </th>
                      <!-- <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td> -->
                          <td mat-cell *matCellDef="let element">{{element.client}}</td>
                    </ng-container>
        
                    <!-- Track Column -->
                    <ng-container matColumnDef="TaggedBy">
                      <th mat-header-cell *matHeaderCellDef> Emp Type </th>
                      <td mat-cell *matCellDef="let element"> {{ element.employmenttype }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="TCount">
                      <th mat-header-cell *matHeaderCellDef> Status </th>
                      <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                  </table>
                  <hr>
                  <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
                </section>
        
              </div>
           
            </div>
            <div class="right-div">
              <div class="sourcing-card">
                <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
                  <div class="card">
                    <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
                    <button mat-icon-button [matMenuTriggerFor]="menuSub">
                      <mat-icon>more_horiz</mat-icon>
                    </button>
                    <mat-menu #menuSub="matMenu">
                      <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                      <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                      <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                      <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
                    </mat-menu>
                  </div>
                  <mat-card-content>
                    <div style="display: flex;">
                      <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                        <button mat-fab class="sourcing-icon">
                          <mat-icon>person</mat-icon>
                        </button>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                        </p>
                        <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                          </span></p>
                      </div>
                      <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                        <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                        </p>
                        <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                            (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                          </span></p>
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
        
              <div>
                <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
                  <div class="card-body">
                    <h3 class="card-title bold-text">Recent Activity
                    </h3>
                    <div class="activity" *ngFor="let data of datarr">
                      <div class="time">
                        {{data.trtime}}
                      </div>
                      <div class="activity-content" *ngIf="data.flg=='VMS'">
                        <b> <a (click)="goToUserInfo(data.userid)"
                            class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                          <span
                            [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                            <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                            <ng-template #rejected>
                              <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                                class="bold-text">{{data.status}}</span>
                            </ng-template>
                            <ng-template #normal>
                              <span class="bold-text">{{data.status}}</span>
                            </ng-template>
                          </span>
                          &nbsp;
                          {{data.company}}
                        </b>
                      </div>
                      <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                        <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                        {{data.status}} <b>
                          <a (click)="goToConsultantInfo(data.consultantid)"
                            class="bold-text consultant-id">{{data.consultantname}}</a>
                        </b>
                        Profile to <b class="bold-text">{{data.company}}(V)
                          <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                          <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                        </b> on
                        <b class="bold-text">{{data.emptype}}</b>
                        <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                            *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                      </div>
        
                      <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                        <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                        {{data.status}} <b>
                          <a (click)="goToConsultantInfo(data.consultantid)"
                            class="bold-text consultant-id">{{data.consultantname}}</a>
                        </b>
                        Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                            class="bold-text">{{data.company}}(V),</span>
                          <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                        </b> on
                        <b class="bold-text">{{data.emptype}}</b>
                        <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                            *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                      </div>
        
                      <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                        <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                        {{data.status}} <b>
                          <a (click)="goToConsultantInfo(data.consultantid)"
                            class="bold-text consultant-id">{{data.consultantname}}</a>
                        </b>
                        Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                            class="bold-text">{{data.company}} (V),</span>
                          <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                        </b>
                        <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                        </b>
                      </div>
      
                      <div class="activity-content" *ngIf="data.flg=='submission'">
                        {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                            class="bold-text">{{data.company}} (V),</span>
                        </b>
                        on
                        <b class="bold-text">{{data.emptype}}</b>
                        <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                          *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                      </div>
      
                      <div class="activity-content" *ngIf="data.flg=='interview'">
                        {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                            class="bold-text">{{data.company}} (V),</span>
                        </b>
                        on
                        <b class="bold-text">{{data.emptype}}</b>
                        <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                          *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                      </div>
                    </div>
                  </div>
                </mat-card>
              </div>
            </div>
          </div>
        
          <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
          <div class="header mat-elevation-z1">
            <span class="header-text">
                Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
            </span></div>
        <form [formGroup]="myForm" >
          <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
            <div class="header-container-leading-resources" style="padding-right: 6px;">
              <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
              
          <div style=" margin-right: 1rem;">
            <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
            <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
        </div>
        
        <div style=" margin-right: 1rem;">
            <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
            <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
        </div>
             <div style=" margin-right: 1rem; width: 10rem;">
        
          <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
            <option value="" disabled selected hidden> Employee Name</option>
              <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
          </select>
        </div>
        
        
            
              <div class="btn">
              <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
            </div>
            <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
              <!-- </form> -->
              <div class="vendor-actions">
                <div class="search-vendor">
                  <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
                </div>
              </div>
        
            </div>
            <hr>
            <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
              <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
                <!-- Posted Date Column -->
                <ng-container matColumnDef="PostedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
                </ng-container>
        
                <!-- Job Title Column -->
                <ng-container matColumnDef="JobTitle">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                  </th>
                  <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                      target="_blank">{{element?.job_title|titlecase}}</a> </td>
                </ng-container>
        
                <!-- Category Column -->
                <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
                  <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                </ng-container>
        
                <!-- Job Location Column -->
                <ng-container matColumnDef="JobLocation">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                    Location
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
                </ng-container>
        
                <!-- Vendor Column -->
                <ng-container matColumnDef="Vendor">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                    Vendor </th>
                  <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
                </ng-container>
        
                <!-- Owner Column -->
                <ng-container matColumnDef="TaggedDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
                  </th>
                  <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
                </ng-container>
        
                <!-- Track Column -->
                <ng-container matColumnDef="TaggedBy" >
                  <th mat-header-cell *matHeaderCellDef> Tagged By </th>
                  <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
                </ng-container>
        
                <ng-container matColumnDef="TCount">
                  <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                  <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
                </ng-container>
        
        
                <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
            </section>
          </div>
        </form>
      </div>
        </div>
      </div>    

 <!-- Recruiting -- Recruiting TL dashboard view -->
 <div *ngIf="department == 'Recruiting' && role == 'Team Leader Recruiting'">
  <div class="overall-container">
    <div class="container">
      <div class="left-div" >
        <div class="left-div-inner-cards">
          <div class="card-1">
            <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                  <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                    </p> -->
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','admin')"> {{ reccount }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu1">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                  <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','admin')">{{sintcount}}</span></p> -->
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu2">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p> -->
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>

        <div class="left-div-inner-cards" *ngIf="individualCounts">
          <div class="card-1">
            <mat-card>
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuSub">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuSub="matMenu">
                  <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                  <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                  <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                    </p> -->
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card>
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuInt">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuInt="matMenu">
                  <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                  <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                  <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p> -->
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card>
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuClose">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuClose="matMenu">
                  <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <!-- <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p> -->
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>

        <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
          <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">

          <div class="table-container table-wrapper">
            <div class="header-container-leading-resources">
              <span class="header-text">Sourcing Leads</span>
            </div>
            <hr>
            <section class="table-style mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" class="responsive-table">
                <ng-container matColumnDef="Name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                  <td mat-cell *matCellDef="let element">
                    <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                  </td>
                </ng-container>
                <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                </ng-container>
                <ng-container matColumnDef="Address">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                </ng-container>
                <ng-container matColumnDef="Email">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
                <ng-container matColumnDef="ContactNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                    Contact </th>
                  <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                </ng-container>
                <ng-container matColumnDef="Owner">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                </ng-container>
                <ng-container matColumnDef="Track">
                  <th mat-header-cell *matHeaderCellDef> Track </th>
                  <td mat-cell *matCellDef="let emp" class="action-buttons">
                    <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                      (click)="updateSlead(emp)">Update</button>
                  </td>
                </ng-container>
  
                <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
            </section>
          </div>
        </div>
  
        <!-- <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead"> -->
          <div class="table-container-dice table-wrapper">
          <div class="header-container-leading-resources">
            <span class="header-text">Recruiting Latest Requirement</span>
          </div>
          
          <hr>
          <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
            <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">
              <!-- Posted Date Column -->
              <ng-container matColumnDef="PostedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Requirement Number
                </th>
                <!-- <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td> -->
                <td mat-cell *matCellDef="let element" nowrap> {{element.reqnumber}} </td>
              </ng-container>
  
              <!-- Job Title Column -->
              <ng-container matColumnDef="JobTitle">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Date
                </th>
                <!-- <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                    target="_blank">{{element?.job_title}}</a> </td> -->
                    <td mat-cell *matCellDef="let element" nowrap> {{element?.createddate | date:'MM-dd-yyyy' }} </td>
              </ng-container>
  
              <!-- Category Column -->
              <!-- <ng-container matColumnDef="Category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                </th>
                <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
              </ng-container> -->
  
              <!-- Job Location Column -->
              <ng-container matColumnDef="JobLocation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                  Title
                </th>
                <td mat-cell *matCellDef="let element"> {{element.jobtitle}} </td>
              </ng-container>
  
              <!-- Vendor Column -->
              <ng-container matColumnDef="Vendor">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                  Location </th>
                <!-- <td mat-cell *matCellDef="let element">{{element.vendor}}</td> -->
                <td mat-cell *matCellDef="let element"> {{element.location}} </td>
              </ng-container>
  
              <!-- Owner Column -->
              <ng-container matColumnDef="TaggedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> IP/Vendor
                </th>
                <!-- <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td> -->
                    <td mat-cell *matCellDef="let element">{{element.client}}</td>
              </ng-container>
  
              <!-- Track Column -->
              <ng-container matColumnDef="TaggedBy">
                <th mat-header-cell *matHeaderCellDef> Emp Type </th>
                <td mat-cell *matCellDef="let element"> {{ element.employmenttype }} </td>
              </ng-container>
  
              <ng-container matColumnDef="TCount">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
              </ng-container>
  
              <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
            </table>
            <hr>
            <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
          </section>
  
        </div>
     
      </div>
      <div class="right-div">
        <div class="sourcing-card">
          <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
            <div class="card">
              <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
              <button mat-icon-button [matMenuTriggerFor]="menuSub">
                <mat-icon>more_horiz</mat-icon>
              </button>
              <mat-menu #menuSub="matMenu">
                <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
              </mat-menu>
            </div>
            <mat-card-content>
              <div style="display: flex;">
                <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                  <button mat-fab class="sourcing-icon">
                    <mat-icon>person</mat-icon>
                  </button>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                  </p>
                  <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                    </span></p>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                  </p>
                  <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                    </span></p>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
  
        <div>
          <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
            <div class="card-body">
              <h3 class="card-title bold-text">Recent Activity
              </h3>
              <div class="activity" *ngFor="let data of datarr">
                <div class="time">
                  {{data.trtime}}
                </div>
                <div class="activity-content" *ngIf="data.flg=='VMS'">
                  <b> <a (click)="goToUserInfo(data.userid)"
                      class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                    <span
                      [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                      <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                      <ng-template #rejected>
                        <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                          class="bold-text">{{data.status}}</span>
                      </ng-template>
                      <ng-template #normal>
                        <span class="bold-text">{{data.status}}</span>
                      </ng-template>
                    </span>
                    &nbsp;
                    {{data.company}}
                  </b>
                </div>
                <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile to <b class="bold-text">{{data.company}}(V)
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                    <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}}(V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                      *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                  </b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                  </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='submission'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='interview'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  
    <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
    <div class="header mat-elevation-z1">
      <span class="header-text">
          Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
      </span></div>
  <form [formGroup]="myForm" >
    <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
      <div class="header-container-leading-resources" style="padding-right: 6px;">
        <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
        
    <div style=" margin-right: 1rem;">
      <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
      <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
  </div>
  
  <div style=" margin-right: 1rem;">
      <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
      <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
  </div>
       <div style=" margin-right: 1rem; width: 10rem;">
  
    <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
      <option value="" disabled selected hidden> Employee Name</option>
        <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
    </select>
  </div>
  
  
      
        <div class="btn">
        <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
      </div>
      <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
        <!-- </form> -->
        <div class="vendor-actions">
          <div class="search-vendor">
            <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
          </div>
        </div>
  
      </div>
      <hr>
      <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
        <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
          <!-- Posted Date Column -->
          <ng-container matColumnDef="PostedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Job Title Column -->
          <ng-container matColumnDef="JobTitle">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
            </th>
            <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                target="_blank">{{element?.job_title|titlecase}}</a> </td>
          </ng-container>
  
          <!-- Category Column -->
          <ng-container matColumnDef="Category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
            <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
          </ng-container>
  
          <!-- Job Location Column -->
          <ng-container matColumnDef="JobLocation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
              Location
            </th>
            <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
          </ng-container>
  
          <!-- Vendor Column -->
          <ng-container matColumnDef="Vendor">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
              Vendor </th>
            <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
          </ng-container>
  
          <!-- Owner Column -->
          <ng-container matColumnDef="TaggedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Track Column -->
          <ng-container matColumnDef="TaggedBy" >
            <th mat-header-cell *matHeaderCellDef> Tagged By </th>
            <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
          </ng-container>
  
          <ng-container matColumnDef="TCount">
            <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
            <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
          </ng-container>
  
  
          <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
        </table>
        <hr>
        <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
      </section>
    </div>
  </form>
</div>
  </div>
</div>    

        <!-- Recruiting -- Recruiting Manager dashboard view -->
        <div *ngIf="department == 'Recruiting' && role == 'Recruiting Manager'">
          <div class="overall-container">
            <div class="container">
              <div class="left-div" >
                <div class="left-div-inner-cards">
                  <div class="card-1">
                    <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
                      <div class="card">
                        <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                        <button mat-icon-button [matMenuTriggerFor]="menu">
                          <mat-icon>more_horiz</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                          <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                          <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                          <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                          <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                        </mat-menu>
                      </div>
                      <mat-card-content>
                        <div style="display: flex;">
                          <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                            <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                            <button mat-fab class="submission-icon">
                              <mat-icon>assignment</mat-icon>
                            </button>
                          </div>
                          <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                            <!-- <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                                (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                            </p> -->
                            <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                                (click)="subPop('Recruiting','admin')"> {{ reccount }}
                              </span></p>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                  <div class="card-2">
                    <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
                      <div class="card">
                        <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                        <button mat-icon-button [matMenuTriggerFor]="menu1">
                          <mat-icon>more_horiz</mat-icon>
                        </button>
                        <mat-menu #menu1="matMenu">
                          <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                          <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                          <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                          <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                        </mat-menu>
                      </div>
                      <mat-card-content>
                        <div style="display: flex;">
                          <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                            <button mat-fab class="interview-icon">
                              <mat-icon>chat_bubble_outline</mat-icon>
                            </button>
                            <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                          </div>
                          <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                            <!-- <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                                (click)="intPop('Sales','admin')">{{sintcount}}</span></p> -->
                            <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                                (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                            </p>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                  <div class="card-3">
                    <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
                      <div class="card">
                        <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                        <button mat-icon-button [matMenuTriggerFor]="menu2">
                          <mat-icon>more_horiz</mat-icon>
                        </button>
                        <mat-menu #menu2="matMenu">
                          <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                          <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                          <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                          <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                        </mat-menu>
                      </div>
                      <mat-card-content>
                        <div style="display: flex;">
                          <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                            <button mat-fab class="closure-icon">
                              <mat-icon>check_circle</mat-icon>
                            </button>
                            <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                          </div>
                          <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                            <!-- <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                                (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p> -->
                            <p class="dashboard">Recruiting :<span
                                style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                                (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                </div>
          
                <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
                  <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">
        
                  <div class="table-container table-wrapper">
                    <div class="header-container-leading-resources">
                      <span class="header-text">Sourcing Leads</span>
                    </div>
                    <hr>
                    <section class="table-style mat-elevation-z8">
                      <table mat-table [dataSource]="dataSource" class="responsive-table">
                        <ng-container matColumnDef="Name">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                          <td mat-cell *matCellDef="let element">
                            <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="Category">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                          </th>
                          <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Address">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                          </th>
                          <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Email">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                          </th>
                          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                        </ng-container>
                        <ng-container matColumnDef="ContactNumber">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                            Contact </th>
                          <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                        </ng-container>
                        <ng-container matColumnDef="Owner">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                          </th>
                          <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Track">
                          <th mat-header-cell *matHeaderCellDef> Track </th>
                          <td mat-cell *matCellDef="let emp" class="action-buttons">
                            <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                              (click)="updateSlead(emp)">Update</button>
                          </td>
                        </ng-container>
          
                        <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
                      </table>
                      <hr>
                      <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
                    </section>
                  </div>
                </div>
          
                <!-- <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead"> -->
                  <div class="table-container-dice table-wrapper">
                  <div class="header-container-leading-resources">
                    <span class="header-text">Recruiting Latest Requirement</span>
                  </div>
                  
                  <hr>
                  <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
                    <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">
                      <!-- Posted Date Column -->
                      <ng-container matColumnDef="PostedDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Requirement Number
                        </th>
                        <!-- <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td> -->
                        <td mat-cell *matCellDef="let element" nowrap> {{element.reqnumber}} </td>
                      </ng-container>
          
                      <!-- Job Title Column -->
                      <ng-container matColumnDef="JobTitle">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Date
                        </th>
                        <!-- <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                            target="_blank">{{element?.job_title}}</a> </td> -->
                            <td mat-cell *matCellDef="let element" nowrap> {{element?.createddate | date:'MM-dd-yyyy' }} </td>
                      </ng-container>
          
                      <!-- Category Column -->
                      <!-- <ng-container matColumnDef="Category">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                      </ng-container> -->
          
                      <!-- Job Location Column -->
                      <ng-container matColumnDef="JobLocation">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                          Title
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element.jobtitle}} </td>
                      </ng-container>
          
                      <!-- Vendor Column -->
                      <ng-container matColumnDef="Vendor">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                          Location </th>
                        <!-- <td mat-cell *matCellDef="let element">{{element.vendor}}</td> -->
                        <td mat-cell *matCellDef="let element"> {{element.location}} </td>
                      </ng-container>
          
                      <!-- Owner Column -->
                      <ng-container matColumnDef="TaggedDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> IP/Vendor
                        </th>
                        <!-- <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td> -->
                            <td mat-cell *matCellDef="let element">{{element.client}}</td>
                      </ng-container>
          
                      <!-- Track Column -->
                      <ng-container matColumnDef="TaggedBy">
                        <th mat-header-cell *matHeaderCellDef> Emp Type </th>
                        <td mat-cell *matCellDef="let element"> {{ element.employmenttype }} </td>
                      </ng-container>
          
                      <ng-container matColumnDef="TCount">
                        <th mat-header-cell *matHeaderCellDef> Status </th>
                        <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
                      </ng-container>
          
                      <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                      <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                    </table>
                    <hr>
                    <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
                  </section>
          
                </div>
             
              </div>
              <div class="right-div">
                <div class="sourcing-card">
                  <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
                    <div class="card">
                      <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
                      <button mat-icon-button [matMenuTriggerFor]="menuSub">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menuSub="matMenu">
                        <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                        <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                        <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                        <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
                      </mat-menu>
                    </div>
                    <mat-card-content>
                      <div style="display: flex;">
                        <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                          <button mat-fab class="sourcing-icon">
                            <mat-icon>person</mat-icon>
                          </button>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                          </p>
                          <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                            </span></p>
                        </div>
                        <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                          <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                          </p>
                          <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                              (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                            </span></p>
                        </div>
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
          
                <div>
                  <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
                    <div class="card-body">
                      <h3 class="card-title bold-text">Recent Activity
                      </h3>
                      <div class="activity" *ngFor="let data of datarr">
                        <div class="time">
                          {{data.trtime}}
                        </div>
                        <div class="activity-content" *ngIf="data.flg=='VMS'">
                          <b> <a (click)="goToUserInfo(data.userid)"
                              class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                            <span
                              [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                              <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                              <ng-template #rejected>
                                <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                                  class="bold-text">{{data.status}}</span>
                              </ng-template>
                              <ng-template #normal>
                                <span class="bold-text">{{data.status}}</span>
                              </ng-template>
                            </span>
                            &nbsp;
                            {{data.company}}
                          </b>
                        </div>
                        <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                          <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                          {{data.status}} <b>
                            <a (click)="goToConsultantInfo(data.consultantid)"
                              class="bold-text consultant-id">{{data.consultantname}}</a>
                          </b>
                          Profile to <b class="bold-text">{{data.company}}(V)
                            <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                            <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                          </b> on
                          <b class="bold-text">{{data.emptype}}</b>
                          <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                              *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                        </div>
          
                        <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                          <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                          {{data.status}} <b>
                            <a (click)="goToConsultantInfo(data.consultantid)"
                              class="bold-text consultant-id">{{data.consultantname}}</a>
                          </b>
                          Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                              class="bold-text">{{data.company}}(V),</span>
                            <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                          </b> on
                          <b class="bold-text">{{data.emptype}}</b>
                          <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                              *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                        </div>
          
                        <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                          <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                          {{data.status}} <b>
                            <a (click)="goToConsultantInfo(data.consultantid)"
                              class="bold-text consultant-id">{{data.consultantname}}</a>
                          </b>
                          Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                              class="bold-text">{{data.company}} (V),</span>
                            <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                          </b>
                          <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                          </b>
                        </div>
        
                        <div class="activity-content" *ngIf="data.flg=='submission'">
                          {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                              class="bold-text">{{data.company}} (V),</span>
                          </b>
                          on
                          <b class="bold-text">{{data.emptype}}</b>
                          <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                            *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                        </div>
        
                        <div class="activity-content" *ngIf="data.flg=='interview'">
                          {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                              class="bold-text">{{data.company}} (V),</span>
                          </b>
                          on
                          <b class="bold-text">{{data.emptype}}</b>
                          <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                            *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                        </div>
                      </div>
                    </div>
                  </mat-card>
                </div>
              </div>
            </div>
          
            <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
            <div class="header mat-elevation-z1">
              <span class="header-text">
                  Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
              </span></div>
          <form [formGroup]="myForm" >
            <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
              <div class="header-container-leading-resources" style="padding-right: 6px;">
                <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
                
            <div style=" margin-right: 1rem;">
              <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
              <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
          </div>
          
          <div style=" margin-right: 1rem;">
              <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
              <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
          </div>
               <div style=" margin-right: 1rem; width: 10rem;">
          
            <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
              <option value="" disabled selected hidden> Employee Name</option>
                <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
            </select>
          </div>
          
          
              
                <div class="btn">
                <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
              </div>
              <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
                <!-- </form> -->
                <div class="vendor-actions">
                  <div class="search-vendor">
                    <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
                  </div>
                </div>
          
              </div>
              <hr>
              <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
                <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
                  <!-- Posted Date Column -->
                  <ng-container matColumnDef="PostedDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
                    </th>
                    <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
                  </ng-container>
          
                  <!-- Job Title Column -->
                  <ng-container matColumnDef="JobTitle">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                    </th>
                    <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                        target="_blank">{{element?.job_title|titlecase}}</a> </td>
                  </ng-container>
          
                  <!-- Category Column -->
                  <ng-container matColumnDef="Category">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
                    <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
                  </ng-container>
          
                  <!-- Job Location Column -->
                  <ng-container matColumnDef="JobLocation">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                      Location
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
                  </ng-container>
          
                  <!-- Vendor Column -->
                  <ng-container matColumnDef="Vendor">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                      Vendor </th>
                    <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
                  </ng-container>
          
                  <!-- Owner Column -->
                  <ng-container matColumnDef="TaggedDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
                    </th>
                    <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
                  </ng-container>
          
                  <!-- Track Column -->
                  <ng-container matColumnDef="TaggedBy" >
                    <th mat-header-cell *matHeaderCellDef> Tagged By </th>
                    <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
                  </ng-container>
          
                  <ng-container matColumnDef="TCount">
                    <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                    <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
                  </ng-container>
          
          
                  <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
                </table>
                <hr>
                <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
              </section>
            </div>
          </form>
        </div>
          </div>
        </div>    

              <!-- Other-than above roles dashboard view -->
<div *ngIf="role !== 'Super Administrator' && role !== 'Consultant' && role !== 'Sales Executive' && role !== 'Team Leader Sales' && role !== 'Sales Manager' && role !== 'Recruiter' && role !== 'Team Leader Recruiting' && role !== 'Recruiting Manager'">
  <div class="overall-container">
    <div class="container">
      <div class="left-div" >
        <div class="left-div-inner-cards">
          <div class="card-1">
            <mat-card *ngIf="privilegeServ.hasPrivilege('SUBMISSION_REPORT')">
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="subCount('daily','Today')">Today</button>
                  <button mat-menu-item (click)="subCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="subCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="subCount('YearToDate', 'Yearly')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <!-- <mat-icon class="class-icon">assignment</mat-icon> -->
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','admin')"> {{ subcount }} </span>
                    </p>
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','admin')"> {{ reccount }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card *ngIf="privilegeServ.hasPrivilege('INTERVIEW_REPORT')">
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlag }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu1">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="intCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="intCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="intCount('monthly','Monthly')">Monthly</button>
                  <button mat-menu-item (click)="intCount('YearToDate','YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">chat_bubble_outline</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','admin')">{{sintcount}}</span></p>
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','admin')">{{rintcount}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card *ngIf="privilegeServ.hasPrivilege('CLOSURE_REPORT')">
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlag }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menu2">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="closureCount('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCount('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCount('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCount('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                    <!-- <mat-icon class="class-icon">check_circle</mat-icon> -->
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','admin')">{{sclosecount}}</span></p>
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','admin')">{{rclosecount}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <div class="left-div-inner-cards" *ngIf="individualCounts">
          <div class="card-1">
            <mat-card>
              <div class="card">
                <mat-card-title>Submissions <span>| {{ submissionFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuSub">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuSub="matMenu">
                  <button mat-menu-item (click)="subCountInd('daily','Today')">Today </button>
                  <button mat-menu-item (click)="subCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="subCountInd('monthly', 'Monthly')">Monthly </button>
                  <button mat-menu-item (click)="subCountInd('YearToDate', 'Yearly')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="submission-icon">
                      <mat-icon>assignment</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Sales','emp')"> {{ subcountIndividual }} </span>
                    </p>
                    <p class="dashboard">Recruiting : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="subPop('Recruiting','emp')"> {{ reccountIndividual }}
                      </span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-2">
            <mat-card>
              <div class="card">
                <mat-card-title>Interviews <span>| {{ interviewFlagInd }}</span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuInt">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuInt="matMenu">
                  <button mat-menu-item (click)="intCountInd('daily','Daily')">Today </button>
                  <button mat-menu-item (click)="intCountInd('weekly','Weekly')">Weekly </button>
                  <button mat-menu-item (click)="intCountInd('monthly','Monthly')">Monthly </button>
                  <button mat-menu-item (click)="intCountInd('YearToDate','YTD')">YTD </button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="interview-icon">
                      <mat-icon>chat_bubble_outline</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Sales','emp')">{{sintcountIndividual}}</span></p>
                    <p class="dashboard">Recruiting :<span style="color: #4154f1; font-weight: bold; cursor: pointer"
                        (click)="intPop('Recruiting','emp')">{{rintcountIndividual}}</span>
                    </p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="card-3">
            <mat-card>
              <div class="card">
                <mat-card-title>Closures <span>| {{ closureFlagInd }} </span></mat-card-title>
                <button mat-icon-button [matMenuTriggerFor]="menuClose">
                  <mat-icon>more_horiz</mat-icon>
                </button>
                <mat-menu #menuClose="matMenu">
                  <button mat-menu-item (click)="closureCountInd('daily','Daily')">Today</button>
                  <button mat-menu-item (click)="closureCountInd('weekly','Weekly')">Weekly</button>
                  <button mat-menu-item (click)="closureCountInd('monthly', 'Monthly')">Monthly</button>
                  <button mat-menu-item (click)="closureCountInd('YearToDate', 'YTD')">YTD</button>
                </mat-menu>
              </div>
              <mat-card-content>
                <div style="display: flex;">
                  <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                    <button mat-fab class="closure-icon">
                      <mat-icon>check_circle</mat-icon>
                    </button>
                  </div>
                  <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                    <p class="dashboard">Sales :<span style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Sales','emp')">{{sclosecountIndividual}}</span></p>
                    <p class="dashboard">Recruiting :<span
                        style="color: rgb(25,135,84); font-weight: bold; cursor: pointer"
                        (click)="closurePop('Recruiting','emp')">{{rclosecountIndividual}}</span></p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
  
        <!-- <div class="left-div-inner-table" (*ngIf="sourcingLead") (*ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')")> -->
          <div class="left-div-inner-table" *ngIf="sourcingLead && privilegeServ.hasPrivilege('SOURCING_LEADS_DATA')">

          <div class="table-container table-wrapper">
            <div class="header-container-leading-resources">
              <span class="header-text">Sourcing Leads</span>
            </div>
            <hr>
            <section class="table-style mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" class="responsive-table">
                <ng-container matColumnDef="Name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> Name </th>
                  <td mat-cell *matCellDef="let element">
                    <a href="{{ element.profile_url }}" target="_blank">{{ element.candidate_name |titlecase}}</a>
                  </td>
                </ng-container>
                <ng-container matColumnDef="Category">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element?.category|titlecase}} </td>
                </ng-container>
                <ng-container matColumnDef="Address">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Address"> Address
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                </ng-container>
                <ng-container matColumnDef="Email">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Email"> Email
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
                <ng-container matColumnDef="ContactNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Contact Number">
                    Contact </th>
                  <td mat-cell *matCellDef="let element">{{element.contactno}}</td>
                </ng-container>
                <ng-container matColumnDef="Owner">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Owner"> Owner
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
                </ng-container>
                <ng-container matColumnDef="Track">
                  <th mat-header-cell *matHeaderCellDef> Track </th>
                  <td mat-cell *matCellDef="let emp" class="action-buttons">
                    <button mat-raised-button class="track-button" *ngIf="emp.lockedby == userid "
                      (click)="updateSlead(emp)">Update</button>
                  </td>
                </ng-container>
  
                <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
              </table>
              <hr>
              <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
            </section>
          </div>
        </div>
  
        <div class="table-container-dice table-wrapper" *ngIf="!sourcingLead">
          <div class="header-container-leading-resources">
            <span class="header-text">Daily Requirement Tags</span>
          </div>
          
          <hr>
          <section class="table-style-dice mat-elevation-z8" style="height:450px; overflow-Y: scroll;overflow-x: scroll">
            <table mat-table [dataSource]="dataSourceDice" class="responsive-table;">
              <!-- Posted Date Column -->
              <ng-container matColumnDef="PostedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted
                  Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
              </ng-container>
  
              <!-- Job Title Column -->
              <ng-container matColumnDef="JobTitle">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
                </th>
                <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                    target="_blank">{{element?.job_title}}</a> </td>
              </ng-container>
  
              <!-- Category Column -->
              <!-- <ng-container matColumnDef="Category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category
                </th>
                <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
              </ng-container> -->
  
              <!-- Job Location Column -->
              <ng-container matColumnDef="JobLocation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
                  Location
                </th>
                <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
              </ng-container>
  
              <!-- Vendor Column -->
              <ng-container matColumnDef="Vendor">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
                  Vendor </th>
                <td mat-cell *matCellDef="let element">{{element.vendor}}</td>
              </ng-container>
  
              <!-- Owner Column -->
              <ng-container matColumnDef="TaggedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged
                  Date
                </th>
                <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
              </ng-container>
  
              <!-- Track Column -->
              <ng-container matColumnDef="TaggedBy">
                <th mat-header-cell *matHeaderCellDef> TaggedBy </th>
                <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
              </ng-container>
  
              <ng-container matColumnDef="TCount">
                <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
                <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
              </ng-container>
  
  
              <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
            </table>
            <hr>
            <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
          </section>
  
        </div>
     
      </div>
      <div class="right-div">
        <div class="sourcing-card">
          <mat-card *ngIf="privilegeServ.hasPrivilege('SOURCING_LEADS_REPORT')">
            <div class="card">
              <mat-card-title>Sourcing Leads <span>| {{ sourcingFlag }}</span></mat-card-title>
              <button mat-icon-button [matMenuTriggerFor]="menuSub">
                <mat-icon>more_horiz</mat-icon>
              </button>
              <mat-menu #menuSub="matMenu">
                <button mat-menu-item (click)="sourcingCount('daily','Today')">Today </button>
                <button mat-menu-item (click)="sourcingCount('weekly','Weekly')">Weekly </button>
                <button mat-menu-item (click)="sourcingCount('monthly', 'Monthly')">Monthly </button>
                <button mat-menu-item (click)="sourcingCount('YearToDate', 'Yearly')">YTD </button>
              </mat-menu>
            </div>
            <mat-card-content>
              <div style="display: flex;">
                <div style="width: 40%; align-items: center; justify-content: center; display: flex;">
                  <button mat-fab class="sourcing-icon">
                    <mat-icon>person</mat-icon>
                  </button>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Initiated : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Initiated','emp')"> {{ sourcingInitiatedcount }} </span>
                  </p>
                  <p class="dashboard">Completed : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Completed','emp')"> {{ sourcingCompletedcount }}
                    </span></p>
                </div>
                <div style="width: 60%; display: flex; flex-direction: column; justify-content: center;">
                  <p class="dashboard">Verified : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Verified','emp')"> {{ sourcingVerifiedcount }} </span>
                  </p>
                  <p class="dashboard">Move To Sales : <span style="color: #4154f1; font-weight: bold; cursor: pointer"
                      (click)="sourcingPop('Active','emp')"> {{ sourcingMoveToSalescount }}
                    </span></p>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
  
        <div>
          <mat-card [ngClass]=" individualCounts ? 'activity-card' : 'activity-card-individual' " *ngIf="privilegeServ.hasPrivilege('RECENT_ACTIVITY_DATA')">
            <div class="card-body">
              <h3 class="card-title bold-text">Recent Activity
              </h3>
              <div class="activity" *ngFor="let data of datarr">
                <div class="time">
                  {{data.trtime}}
                </div>
                <div class="activity-content" *ngIf="data.flg=='VMS'">
                  <b> <a (click)="goToUserInfo(data.userid)"
                      class="bold-text name consultant-id">{{data.pseudoname}}</a>&nbsp;
                    <span
                      [ngClass]="{'approved': (data.status =='Approved' ) ,'added': (data.status =='Added') ,'rejected': (data.status =='Rejected' )}">
                      <ng-container *ngIf="data.status=='Rejected'; then rejected else normal"></ng-container>
                      <ng-template #rejected>
                        <span data-bs-toggle="modal" data-bs-target="#rejectedreason" data-dismiss="modal" #closeModal
                          class="bold-text">{{data.status}}</span>
                      </ng-template>
                      <ng-template #normal>
                        <span class="bold-text">{{data.status}}</span>
                      </ng-template>
                    </span>
                    &nbsp;
                    {{data.company}}
                  </b>
                </div>
                <div class="activity-content" *ngIf="data.flg=='SUB-sales'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile to <b class="bold-text">{{data.company}}(V)
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                    <!-- <span *ngIf="data.submissionrate!==null" bold-text >, {{data.submissionrate}}($/hr),</span> -->
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                      *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-recruiting' || data.flg=='SUB-Recruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}}(Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}}(V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}($/hr),</span>
                  </b> on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text">, {{data.endclient}}(client)</span> <span
                      *ngIf="data.implpartner !== null" class="bold-text">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
  
                <div class="activity-content" *ngIf="data.flg=='SUB-domrecruiting'">
                  <b> <a (click)="goToUserInfo(data.userid)" class="bold-text consultant-id">{{data.pseudoname}}</a> </b>
                  {{data.status}} <b>
                    <a (click)="goToConsultantInfo(data.consultantid)"
                      class="bold-text consultant-id">{{data.consultantname}}</a>
                  </b>
                  Profile for <b class="bold-text">{{data.reqnumber}} (Req No),<span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                    <span *ngIf="data.submissionrate !== null" class="bold-text"> {{data.submissionrate}}(₹/LPA),</span>
                  </b>
                  <b> <span *ngIf="data.endclient !== 'NULL'" class="bold-text"> {{data.endclient}} (client)</span>
                  </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='submission'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>

                <div class="activity-content" *ngIf="data.flg=='interview'">
                  {{data.status | titlecase}} Your Profile for <b class="bold-text"><span *ngIf="data.company !== 'NULL'"
                      class="bold-text">{{data.company}} (V),</span>
                  </b>
                  on
                  <b class="bold-text">{{data.emptype}}</b>
                  <b> <span *ngIf="data.endclient!=='NULL'" class="bold-text">, {{data.endclient}}(client) </span><span
                    *ngIf="data.implpartner!=='NULL'">, {{data.implpartner}}(IMPL)</span> </b>
                </div>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  
    <div *ngIf="privilegeServ.hasPrivilege('REQUIREMENTS_TAGGED_DATA')">
    <div class="header mat-elevation-z1">
      <span class="header-text">
          Daily Requirements(Tagged Count) &nbsp;&nbsp;&nbsp;
      </span></div>
  <form [formGroup]="myForm" >
    <div class="table-container-dice table-wrapper" style="margin-bottom: 120px;" *ngIf="sourcingLead">
      <div class="header-container-leading-resources" style="padding-right: 6px;">
        <span class="header-text" style="font-size: 14px;margin-top: 0.1rem;"></span>
        
    <div style=" margin-right: 1rem;">
      <label for="startDate" style="font-size: 12px;font-weight: bold;">Start Date:</label>
      <input type="date" id="startDate" name="startDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc;height:0.3rem; padding: 8px;"formControlName="startDate"  >
  </div>
  
  <div style=" margin-right: 1rem;">
      <label for="endDate" style="font-size: 12px;font-weight: bold">End Date:</label>
      <input type="date" id="endDate" name="endDate" style="width: 8rem; background-color: #eae9e9; border: 1px solid #ccc; height:0.3rem;padding: 8px;"[formControl]="myForm.get('endDate')">
  </div>
       <div style=" margin-right: 1rem; width: 10rem;">
  
    <select id="benchSalesEmployees"  style="background-color: #eae9e9;height: 1.7rem;" (change)="onEmployeeChange($event.target)"  >
      <option value="" disabled selected hidden> Employee Name</option>
        <option *ngFor="let option of benchSalesEmployees" [value]="option[0]">{{ option[1] }}</option>
    </select>
  </div>
  
  
      
        <div class="btn">
        <button mat-raised-button color="primary" style="width:2rem;height:35px;" (click)="refreshData()">Refresh</button>
      </div>
      <button  *ngIf="showReport"  class="search" mat-raised-button color="primary" style="height:35px" (click)="handleExport()" >Excel Import</button>
        <!-- </form> -->
        <div class="vendor-actions">
          <div class="search-vendor">
            <input matInput type="text" class="search dice" placeholder="search ..." (keyup)="onDiceFilter($event)" >
          </div>
        </div>
  
      </div>
      <hr>
      <section class="table-style-dice mat-elevation-z8" style="height: 630px; overflow-Y: scroll;">
        <table mat-table [dataSource]="dataSourceDice" class="responsive-table">
          <!-- Posted Date Column -->
          <ng-container matColumnDef="PostedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by PostedDate"> Posted Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element?.posted_on | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Job Title Column -->
          <ng-container matColumnDef="JobTitle">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobTitle"> Job Title
            </th>
            <td mat-cell *matCellDef="let element"> <a href="{{ element.job_source }}"
                target="_blank">{{element?.job_title|titlecase}}</a> </td>
          </ng-container>
  
          <!-- Category Column -->
          <ng-container matColumnDef="Category">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Category"> Category </th>
            <td mat-cell *matCellDef="let element"> {{element.category_skill}} </td>
          </ng-container>
  
          <!-- Job Location Column -->
          <ng-container matColumnDef="JobLocation">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by JobLocation"> Job
              Location
            </th>
            <td mat-cell *matCellDef="let element"> {{element.job_location}} </td>
          </ng-container>
  
          <!-- Vendor Column -->
          <ng-container matColumnDef="Vendor">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Vendor">
              Vendor </th>
            <td mat-cell *matCellDef="let element">{{element.vendor|titlecase}}</td>
          </ng-container>
  
          <!-- Owner Column -->
          <ng-container matColumnDef="TaggedDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TaggedDate"> Tagged Date
            </th>
            <td mat-cell *matCellDef="let element" nowrap> {{element.taggeddate | date:'MM-dd-yyyy' }} </td>
          </ng-container>
  
          <!-- Track Column -->
          <ng-container matColumnDef="TaggedBy" >
            <th mat-header-cell *matHeaderCellDef> Tagged By </th>
            <td mat-cell *matCellDef="let element"> {{ element.pseudoname }} </td>
          </ng-container>
  
          <ng-container matColumnDef="TCount">
            <th mat-header-cell *matHeaderCellDef> Tagged Count </th>
            <td mat-cell *matCellDef="let element"> {{ element.taggedcount }} </td>
          </ng-container>
  
  
          <tr mat-header-row *matHeaderRowDef="dataTableColumnsDice; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: dataTableColumnsDice;"></tr>
        </table>
        <hr>
        <p class="no-data-found" *ngIf="!dataSourceDice.filteredData.length">{{'No matching data found'}}</p>
      </section>
    </div>
  </form>
</div>
  </div>
</div>  