<div class="container">
  <div class="header-container mat-elevation-z1">
    <span class="header-text">
      H1B Employee Data Hub
    </span>
    <div class="vendor-actions">

      <!-- <button [disabled]="!privilegeServ.hasPrivilege('ADD_VENDOR')" mat-icon-button class="add-user"
        (click)="addVendor()" matTooltip="Add Vendor" matTooltipPosition="above">
        <mat-icon [ngClass]="{'item-icon': privilegeServ.hasPrivilege('ADD_VENDOR')}">add_circle</mat-icon>
      </button> -->
  <span>
  <!-- <button class="search me-2" mat-raised-button color="primary">Export</button> -->
  
  <button class="search"  [disabled]="!privilegeServ.hasPrivilege('IMPORT_EXCEL')" mat-raised-button style="background-color:#4caf50; color:white;"
    (click)="fileInput.click()">
    Import
  </button>

  <!-- Hidden file input -->
  <input
    type="file"
    #fileInput
    (change)="onFileSelected($event)"
    accept=".xlsx, .xls"
    style="display:none"
  />
</span>






      <div class="search-vendor">
        <input matInput type="text" class="search" placeholder="search employee" (keyup)="applyFilter($event)">
      </div>
    </div>
  </div>
  <div class="table-container" class="table-wrapper">
    <div class="sticky-wrapper">



      <section class="vendor-table-wrapper">
        <div class="vendor-table-style">
          <table mat-table [dataSource]="dataSource" matSort (matSortChange)="onSort($event)" oncopy="return false">


            <ng-container matColumnDef="SerialNum">
              <th mat-header-cell *matHeaderCellDef
                sticky> S.No </th>
              <td mat-cell *matCellDef="let element"> {{element?.serialNum}} </td>
            </ng-container>

            <ng-container matColumnDef="fiscalYear">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by fiscalYear" sticky>
                Fiscal Year</th>
              <td mat-cell *matCellDef="let element">
                <span > {{element.fiscalYear}}</span>
              </td>
            </ng-container>

            <ng-container matColumnDef="employeeName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by employeeName" sticky>
                Employer
                Name </th>
              <td mat-cell *matCellDef="let element" style="width: 20%"> {{element.employeeName | titlecase}} </td>
            </ng-container>

            <ng-container matColumnDef="taxId">
              <th mat-header-cell *matHeaderCellDef sortActionDescription="Sort by taxId" mat-sort-header sticky> TaxId
              </th>
              <td mat-cell *matCellDef="let element"> {{element.taxId }} </td>
            </ng-container>

            <ng-container matColumnDef="industryCode">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by industryCode" sticky>
                Industry Code
              </th>
              <td mat-cell *matCellDef="let element"> {{element.industryCode | titlecase}} </td>
            </ng-container>

            <ng-container matColumnDef="petitionerCity">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by petitionerCity"
                sticky>Petitioner City </th>
              <td mat-cell *matCellDef="let element">
                <span > {{element.petitionerCity | titlecase}}
                </span>
              </td>
            </ng-container>

            <ng-container matColumnDef="petitionerState">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by petitionerState "
                sticky> Petitioner State</th>
              <td mat-cell *matCellDef="let element"> {{element.petitionerState | titlecase}} </td>
            </ng-container>

            <ng-container matColumnDef="petitionerZipCode">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by petitionerZipCode"
                sticky> Petitioner
                ZipCode </th>
              <td mat-cell *matCellDef="let element"> {{element.petitionerZipCode }} </td>
            </ng-container>
            <ng-container matColumnDef="newEmploymentApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by newEmploymentApproval" sticky>New Employement Approval </th>
              <td mat-cell *matCellDef="let element"> {{element.newEmploymentApproval }} </td>
            </ng-container>
            <ng-container matColumnDef="newEmploymentDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by newEmploymentDenial"
                sticky> New Employement Denial </th>
              <td mat-cell *matCellDef="let element"> {{element.newEmploymentDenial }} </td>
            </ng-container>
            <ng-container matColumnDef="continuationApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by continuationApproval"
                sticky> Continuation Approval</th>
              <td mat-cell *matCellDef="let element"> {{element.continuationApproval }} </td>
            </ng-container>
            <ng-container matColumnDef="continuationDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by continuationDenial"
                sticky>Continuation Denial </th>
              <td mat-cell *matCellDef="let element"> {{element.continuationDenial}} </td>
            </ng-container>
            <ng-container matColumnDef="changewithSameEmployerApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by changewithSameEmployerApproval" sticky> Change With Same Employer
                Approval </th>
              <td mat-cell *matCellDef="let element"> {{element.changewithSameEmployerApproval}} </td>
            </ng-container>
            <ng-container matColumnDef="changewithSameEmployerDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by changewithSameEmployerDenial" sticky> Change With Same Employer Denial
              </th>
              <td mat-cell *matCellDef="let element"> {{element.changewithSameEmployerDenial}} </td>
            </ng-container>
            <ng-container matColumnDef="newConcurrentApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by newConcurrentApproval" sticky> New Concurrent Approval </th>
              <td mat-cell *matCellDef="let element"> {{element.newConcurrentApproval}} </td>
            </ng-container>
            <ng-container matColumnDef="newConcurrentDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by newConcurrentDenial"
                sticky> New Concurrent Denial </th>
              <td mat-cell *matCellDef="let element"> {{element.newConcurrentDenial}} </td>
            </ng-container>
            <ng-container matColumnDef="changeofEmployerApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by changeofEmployerApproval" sticky> Change Of Employer Approval </th>
              <td mat-cell *matCellDef="let element"> {{element.changeofEmployerApproval}} </td>
            </ng-container>
            <ng-container matColumnDef="changeofEmployerDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by changeofEmployerDenial" sticky> Change Of Employer Denial</th>
              <td mat-cell *matCellDef="let element"> {{element.changeofEmployerDenial}} </td>
            </ng-container>
            <ng-container matColumnDef="amendedApproval">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by amendedApproval"
                sticky> Amended Approval</th>
              <td mat-cell *matCellDef="let element"> {{element.amendedApproval}} </td>
            </ng-container>
            <ng-container matColumnDef="amendedDenial">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by amendedDenial"
                sticky> Amended Denial </th>
              <td mat-cell *matCellDef="let element"> {{element.amendedDenial}} </td>
            </ng-container>





            <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: dataTableColumns;" [ngClass]="getVendorRowClass(row)"></tr>
          </table>
          <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
          <!-- paginator -->
          <div class="paginator" *ngIf="dataSource.filteredData.length">
            <mat-paginator (page)="handlePageEvent($event)" [pageSize]="pageSize" [length]="totalItems"
              [disabled]="false" [showFirstLastButtons]="showFirstLastButtons"
              [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []" [hidePageSize]="true"
              [pageIndex]="currentPageIndex" aria-label="Select page">
            </mat-paginator>
          </div>
        </div>

      </section>
      <hr>
    </div>
  </div>


</div>