<div class="container">
  <ul class="breadcrumb">
    <li><a (click)="navigateToDashboard()">Home</a></li>
    <li class="last">Masters</li>
    <li class="last">Company</li>
  </ul>
  <div class="company-header-container mat-elevation-z1">
    <span class="header-text">
      Company List
    </span>
    <div class="company-actions">
      <button [disabled]="!privilegeServ.hasPrivilege('ADD_COMPANY')" mat-icon-button class="add-user"
        (click)="addCompany()" matTooltip="Add Company" matTooltipPosition="left">
        <mat-icon [ngClass]="{'item-icon': privilegeServ.hasPrivilege('ADD_COMPANY')}"
          class="item-icon">add_circle</mat-icon>
      </button>

      <div class="search-company">
        <input matInput type="search" class="search" placeholder="search company" (keyup)="applyFilter($event)">
      </div>
    </div>
  </div>
  <div class="table-wrapper">
    <section class="mat-elevation-z8 company-list-table-style">
      <table mat-table [dataSource]="dataSource" class="table-style mat-elevation-z8" matSort
        (matSortChange)="onSort($event)">

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->

        <!-- Serial Number Column -->
        <ng-container matColumnDef="SerialNum">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by SerialNum"
            style="width: 7%"> S.No </th>
          <td mat-cell *matCellDef="let element" style="width: 7%"> {{ element.serialNum }} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="Company">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Company" style="width: 35%">
            Company
          </th>
          <td mat-cell *matCellDef="let element" style="width: 35%">
            <button
              mat-button
              (click)="openCompanyLink(element.companyname,element.companyid)" matTooltip="Add SuperAdmin"
              style="text-decoration: none;"
            >
              {{ element.companyname }}
            </button>
            <!-- <button [disabled]="!privilegeServ.hasPrivilege('ADD_COMPANY')" mat-icon-button class="add-user"
        (click)="openCompanyLink(element.companyname)" matTooltip="Add SuperAdmin" matTooltipPosition="left">
        <mat-icon [ngClass]="{'item-icon': privilegeServ.hasPrivilege('ADD_COMPANY')}"
          class="item-icon">add_circle</mat-icon>
      </button> -->
          </td>
        </ng-container>
        
        

        <!-- Domain Column -->
        <ng-container matColumnDef="Domain">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Domain"
            style="width: 30%"> Domain </th>
          <td mat-cell *matCellDef="let element" style="width: 30%"> {{ element.domain }} </td>
        </ng-container>

        <!-- Code Column -->
        <ng-container matColumnDef="Code">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Company"
            style="width: 8%"> Code </th>
          <td mat-cell *matCellDef="let element" style="width: 8%"> {{ element.code }} </td>
        </ng-container>

        <!-- Added By Column -->
        <ng-container matColumnDef="AddedBy">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by AddedBy"
            style="width: 15%"> Added By </th>
          <td mat-cell *matCellDef="let element" style="width: 15%"> {{ element.pseudoname }} </td>
        </ng-container>

        <!-- actions -->
        <ng-container matColumnDef="Actions">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let company" class="action-buttons">
            <button [disabled]="!privilegeServ.hasPrivilege('EDIT_COMPANY')" mat-icon-button
              (click)="editCompany(company)" class="action-button-ed">
              <mat-icon [ngClass]="{'edit-icon': privilegeServ.hasPrivilege('EDIT_COMPANY')}">edit</mat-icon>
            </button>

            <button [disabled]="!privilegeServ.hasPrivilege('DELETE_COMPANY')" mat-icon-button
              (click)="deleteCompany(company)" class="action-button-ed">
              <mat-icon [ngClass]="{'delete-icon': privilegeServ.hasPrivilege('DELETE_COMPANY')}">delete</mat-icon>
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="getRowClass(row)"></tr>
      </table>
      <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
    </section>
    <hr>
  </div>
  <!-- paginator -->
  <div class="paginator" *ngIf="dataSource.filteredData.length">
    <mat-paginator (page)="handlePageEvent($event)" [pageSize]="pageSize" [length]="totalItems" [disabled]="false"
      [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
      [hidePageSize]="true" [pageIndex]="currentPageIndex" aria-label="Select page">
    </mat-paginator>
  </div>

</div>